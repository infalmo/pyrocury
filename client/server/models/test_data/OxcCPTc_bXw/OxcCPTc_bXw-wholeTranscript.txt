 The following content is provided under a Creative Commons license. Your support will help MIT OpenCourseWare continue to offer high quality educational resources for free. To make a donation or to view additional materials from hundreds of MIT courses, visit MIT OpenCourseWare at ocw.mit.edu. PROFESSOR: All right. I'm a little slow getting started today, better get going. What we're going to talk about today is a technique-- you guys done? OK, thanks. We're going to talk about today a technique known as modal analysis, and it's a way of analyzing things that vibrate, essentially thinking about them one mode and a time. Though you might not make a lot of use of the actual calculations, doing the math, throughout your careers, I think if you understand it conceptually it'll help you just have a better understanding of what vibration is all about, just give you some insight to it that you otherwise wouldn't have. So the basic concept is that you can model just about any structural vibration as the summation of the individual contributions of each what we call natural mode. So what we mean by that is, let's start by thinking-- actually, let me say that this applies to both continuous systems like vibrating strings or beams or buildings as it does to finite degree of freedom rigid body systems. We haven't talked about continuous systems. I'll do a lecture on it as the last lecture of the term, just kind of an enrichment sort of lecture. But everything I say about finite degree of freedom systems can be extended to continuous systems. But since we've been studying rigid bodies and systems with finite numbers of degrees of freedom, I'll explain-- I'll go through this analysis in the context of rigid body finite degree of freedom systems. So in general, we can write the equations of motion for finite degree of freedom systems as a mass matrix. And to keep the kind of writing down, I'm just going to underline matrices and a squiggle under vectors so we have them. In general, we can write the equations of motion as a mass matrix times an acceleration vector plus a damping matrix times a velocity vector, stiffness matrix times a displacement vector, all equal to some external vector of excitations. And I'm writing these as if these are translations, but you know, like from doing the pendulum on the cart problem, that the equations of motion might involve rotations and displacements. And we let them-- they mix together here however they fall out. But just to write them symbolically, I'm just going to refer to all of those coordinates with an x vector. OK, now the basic premise of modal analysis is a thing called the modal expansion theorem. It's basically the assertion that you can represent any motion set of vectors-- I'll write them kind of as a vector here for a moment-- x, as the superposition of each contributing mode. Now each mode has a mode shape to it, which I'm going to call u, and up here I'll put a superscript for what mode it is, the first mode, times its time-dependent behavior. And this is called, what they call in textbooks, the natural coordinates. And we'll see what those are in a second. So mode shape one. This is the time-dependent and amplitude part that says how much the contribution of mode one is to this motion and what its time dependence is, this is. And then you'd have mode two's contribution, q2. And this goes out to the nth mode's contribution, qn of t. And that's the proposition, that you can represent the total response of the system as a superposition of the response of each of the natural modes of the system. And if it's an n degree of freedom system, there will be n natural modes, so. Now something I didn't say here. This all assumes that the system vibrates. So this is all in the discussion of things that exhibit vibratory motion. So this is all, it should say here, of vibrating systems, OK? So this kind of a long and cumbersome way of writing this out. So if you notice, each one of these is the mode shape vector. And if I put them together in a matrix just side by side, here's a u1 over to un and multiply it by this vector, q1 of t down to qn. That's the same statement but said in a much more compact way. So this statement, this modal expansion theorem, basically says the vector of-- these are your generalized coordinates, which we've been using all term long. These are the generalized coordinates that you choose to derive the equations of motion around. The vector of generalized coordinates can be written as uq. And these are often called the modal coordinates or sometimes called the natural coordinates, OK? So if we can say that x is uq, then x dot, you take the derivative of each one of those expressions. You'll find that's going to be uq dot. And x double dot equals uq double dot because these are just constants. The mode shape vectors are just a fixed set of numbers that represent the mode shape to the system. Now just to-- I think maybe this is a good time to do this. You grab one end. So this is a-- and it's hard to see black against black. My apologies for that. So this is a guitar string or any stringed instrument. In fact, any long, slender thing under tension will vibrate. And it has, if I do this carefully, that's called the first mode of vibration. And that's when you pluck your guitar string or violin in the middle. You mostly hear that. But at twice the frequency, if I can get it going here, there's a second mode of vibration. And for a taut string, it happens to be at twice the frequency of the first. And if my hand is well calibrated-- it may be easier if it's a little longer-- if I get this going right, there's a third mode, OK? So that's what we're calling-- oh, what I meant to say when I was doing this is these shapes for the vibrating string, that second mode shape happens to be one full sine wave. And the mode shape has the form sine n pi x over l, where l's the length of the string. n's the mode number. So first mode. Second mode is this, when n is 2. First mode, n is 1. nth mode or something high, you get higher modes like that. So these are the mode shapes for a vibrating string. That's good for now. This two degree of freedom system with the two lump masses-- and it's going to show up there, yeah-- this is basically two lump masses. And we idealize the springs as being massless, but it's a pretty good approximation. This has two modes of vibration. And Professor Gossard made these neat little things that can make it so-- and I'm going to come back to this, but there's mode one. And the mode shape is as this goes down one unit, that goes down about two times as much. I'll give you the exact numbers in a minute. And the other mode shape of the system-- we're going to talk about this today and why this happens. But if I give it the right initial conditions, I can make it vibrate only in the second mode shape. And so it's now deflected with the right conditions so that it'll respond only in second mode. This mass goes up and down a lot. That mass goes up in that little, opposite to it, actually. The frequency is different from the first. But if this is moving one unit, then this down here is moving minus 0.3 or something like that. And that ratio is constant. And that's called the mode shape. So if you just pick one of them and say, let its motion be one, then all of the other masses in the system will move in a particular ratio to the motion of that one that you arbitrarily set to one. So this is what we mean by mode shapes and their natural frequencies. There's the natural frequency associated with that first mode. And we can solve these things mathematically, and we've been doing that a little bit in the last couple of lectures. All right. So this is the relationship between these things, the generalized coordinates and the modal coordinates. And we now need to see how we're going to use these. So in general, we have our equations of motion. And I'm going to substitute for x, x dot, and x double dot, these and pre multiply by u transpose. Remember the transpose of a matrix. You just take the first column, make it the first row. Second column, make it the second row. So if I plug in these up here, I get muq-- I'm going to leave some space here because I'm going to pre multiply in a second-- plus cuq dot plus kuq equals the external exciting forces. Now I'm going to pre multiply by u transpose, OK? Now a remarkable thing happens. It happens that when you do this calculation, when you multiply this matrix times that, one row at a time-- so this has vectors in it, 1 through n. I'm going to pick vector r, the rth one. If I take that rth vector and multiply it one at a time by row by row by row, then I get a new vector that results, which I'm going to multiply by this. And so if I'm going to pick out one of the vectors, multiply it through times one of the rows here-- when you transpose them, the rows are now the vectors. So I'm going to pick. If I do the calculation-- lost my right piece of paper here. So I'm going to just pull out one of the calculations that you end up doing if you do this whole triple matrix multiplication, you need to know the following fact. So for the mode s transpose-- that's one of the rows out of here-- times m times one of the columns, the rth one from here, and I do this calculation, this is 0 for r not equal to s. What that statement says is, the only non-zero result from this is when you multiply-- when you take the rth column from here and you use the rth from here. All the other combinations of this thing go to 0. And the net result of that is that this implies that u transpose mu always equals to a diagonal vector, which I'll call this like that. Sometimes a mass matrix is diagonal to start with. But even if it isn't, you do this calculation, it will produce a diagonal matrix. And that's because these multiplications are always 0 unless r is the same as s. And the same is true for u transpose Ku will give you a K matrix that is diagonal. And you know, normally the stiffness matrix we've come up with, they've generally been full matrices oftentimes. But you do uKu, you will get a diagonal stiffness matrix. And there the little problem comes because u transpose cu, well, sometimes, this one is diagonal only for ideal conditions of damping. So that's something you just have to address. So only for ideal conditions, and that's just something you have to deal with. So why is this? Why is there this special, wonderful thing? The natural modes of a system-- this one is a two degree of freedom system-- form a complete and independent set of vectors. And in this case of this two degree of freedom system, I can pick any kinematically allowable position, like this-- stationary, static is one of the solutions, right, to this two degree of freedom system-- so any possible allowable position of these two things, static or moving, can be described by a linear combination of the mode shapes of the system, a weighted sum of the mode shapes of the system. And that's all it takes. So this one has two mode shapes, one that looks like that, one that looks like this one's going down, this one's going up, their particular ratios. And I can take a weighted amount of that first mode, so much of it, and a weighted amount of the second mode and add them together and describe any possible position of the system. The same thing is true of that string. It has mode shapes that are sine waves, but they're sine 1 pi x, sine pi 2x, over and so forth. Any possible allowable shape of that guitar string can be made up of a weighted sum of the mode shapes of the system. And moreover, the mode shapes, the reason this works is because the mode shapes are orthogonal to one another. Now, you know that if you take 2 sine waves like that string and you take first mode sine pi x over l, and second mode say sine 2 pi x over l and you multiply them together and integrate from 0 to l, what do you get? You'll always get 0 if the two sines are-- if they're full wavelengths, they go to nodes at the end, you will always get 0 if the wavelengths are different, always, right? That's a statement of orthogonality of sine functions. All right. The same thing is true of these simple vectors. They are orthogonal to one another such that if you do this multiplication, you transpose mu, you only get contributions when you are using mode r transpose m mode r. You only get a contribution of each of those. That gives you the diagonals. The same is true when you do u transpose ku. Because of orthogonality, you only get a diagonal matrix at the end. And under the right conditions, u transpose cu gives you a diagonal matrix. So what's that good for? Well, here was the set of equations that we get when we make that substitution. This is going to give us a diagonal mass matrix times q double dot plus, when conditions are right, a diagonal damping matrix times q dot, plus a diagonal stiffness matrix times q equals u transpose F, which as a vector times a matrix gives you back a vector, which we call capital Q. It's a function of time. And this is called the modal force. But if you look carefully at these, if I pick the rth one, mode r out of this whole thing-- if I just pick any mode out of this, any part of this vector, and complete this multiplication, I will find that I get an Mr, which is the rth entry here. And now I'm going to refer to these as the modal masses, and I'll write them with capitals and I'll give a subscript to tell you what the mode is. This is a number. This is the modal mass for mode r. This gives me an equation that looks like Mrqr double dot plus crqr dot plus Krqr equals Qr of t. And what does that remind you of that we've done a lot of work with? AUDIENCE: [INAUDIBLE] PROFESSOR: How many degree of freedom system? That's the equation of motion, the generic equation of motion, of a single degree of freedom oscillator. And you know how to calculate the response to initial conditions for that. You know how to calculate the steady state response for that when you have a harmonic input, right? What I said at the beginning of the discussion about vibration is it's really important to understand the single degree of freedom oscillator because it'll give you insight as to the behavior of complicated multiple degree of freedom systems. And here's the proof of this. This is now n uncoupled single degree of freedom systems. This is n independent single, one degree of freedom systems which you can solve one at a time. Now, lots of times a vibrating system, a complicated one, might be this thing. If I hit this, it's vibrating. And actually, it's pretty much vibrating at a single frequency. And once I've hit it, are there any external forces driving it? So what kind of response are you seeing? Response to? AUDIENCE: Initial conditions. PROFESSOR: Initial conditions, right? Now in general, each one of the natural modes of a system has a different natural frequency, right? So if I hit this thing and I look at it, really, I can just see it wiggling back and forth basically at one frequency So if you wanted to come up with a simple model of this system, how many natural modes you think you'd have to include to describe the motion of this system? AUDIENCE: One. PROFESSOR: One. Now is that a lot easier than having to do the full general equation of motion for all the possible modes that this thing has? And it turns out a lot, right, you have to deal with the equation of motion of a single degree of freedom system to describe this. And that's the real point. You know they built the Hancock building across the river 35 years ago. It was losing windows like crazy. It was a brand new building. And when the wind would get above 40 miles an hour, the windows started falling out. 60 stories high, 60, 61 stories high, and the wind was blowing. Where do you suppose the windows fall out? What part of the building? AUDIENCE: [INAUDIBLE] PROFESSOR: Huh? I mean, you'd think that when the wind is blowing it get stronger as it goes up. It was probably blowing out the windows at the top, right? But the windows were breaking-- as time went by, every time a window would break, they replaced this five foot by nine foot sheet of glass with a piece of plywood. And so you get this statistical sampling after a while of where the breakage was. So you had no windows broken at the top and a few as you got further down and more and lots of them broken out at the bottom. It turns out that that building was vibrating mostly in its first bending mode. It was going back and forth like this. Also happened to have a torsional mode. Its first torsional mode was kind of twisting around the base like that. So in fact the moment when the wind would get about 40 miles an hour, this building would start rocking and rolling, mostly like this with a little of this thrown in, OK? But you can basically model that complicated building that has millions of possible natural modes in it by one or possibly two single degree of freedom oscillators. So that's the power of modal analysis. But I think the real power of understanding that you can do this is that it gives you this immediate insight as to what might be going on in something. So I look at this. I don't see a complicated thing that I have to model with a big finite element model. I see something that's vibrating at one frequency. And I know it has a little decay. It'll have damping. It'll have a natural frequency. And I get immediate insight as to its behavior by knowing this, OK. And that's the real reason why I wanted to show this to you. So today we'll do-- there are sort of two directions we can go with this. One is to talk about response to initial conditions, and the other is to talk about the response to force excitation. So we're going to begin by doing response to ICs, OK? And then we'll move on probably next time and talk about response to harmonic excitations. And we're going to use that as the example. Before I go there, once we have broken the system down and analyzed this way, how do we get back to the motion of the system in our generalized coordinates, which are the ones we're comfortable with? Because I don't know where to take a ruler and go measure this natural coordinate. So somehow I have to get back to putting in the real physical measurements that I can relate to. Well, that's easy because where did we start with this? We started by saying this whole thing began right here. And so at the end we just come back and say, oh, well, x here, our generalized coordinates, is this summation of the mode shapes ui here, summed over i of qi of t. Now the reason I wrote it here as a summation is to remind you that you do this. That's the beauty of this thing, is you only have to do it over the modes that matter. So if you've decided to approximate the motion of this complicated system, by just a couple of motile contributions because you know they're the important ones, this is a pretty short summation. This is how you get back to your original modal coordinates. Just take the modal amplitude, multiply it by the mode shape. And when you do that, it says, if this turns out to be, say, sum a sine omega t, when you multiply by the mode shape it basically tells you how much each generalized coordinate gets of the motion. The mode shape distributes thing answer out proportionally in the correct amount. So this is how you get back to the original. So let's think about that system and we'll do an initial conditions kind of problem. So I think Professor Gossard-- I think in class you sort of figured out what the approximate ks and ms and things were for that system. So I actually took it apart, weighed it, measured some natural frequencies, and have come up with a pretty good model, or at least pretty good set of numbers, characterizing this two degree of freedom system. So c1, k1, m1, k2, c2, x1, x2. So these are my generalized coordinates, measured probably from what position? Static equilibrium, right? So I don't have to mess with gravity in this. Measured from static equilibrium. And to try to help keep things understandable, I tried to write the parameters of the system as lowercase k1s, k2s, k3s because I want to write modal stiffness for mode one as a capital K1, so I try to be consistent about that. And notice where I put the dampers in the system. That's because most of the damping in this thing comes from the upper mass rubs against a stationary object, which is the bar here. The lower mass rubs against a stationary object. So I'm going to model that as a dashpot between each mass and the fixed reference frame because the bar doesn't move. So it's an approximate model of the damping. And so if we do our sum of forces on each of these masses, just do Newton's laws on the mass, we can come up with our two equations of motion. We get two equations of motion. And let's see. I think I'll give you some information here first. m1. And I really don't know the damping, but we can get that by just counting how many cycles it takes to decay and so forth. So that's basically what I come into this problem knowing. And I'm going to write my equations of motion in matrix form. So it's going to end up looking like m1. Now notice the damping in this one, the damping force, is only proportion-- it'll be c1 x1. Doesn't involve the motion of the other object. In this one, the damping force only involves the second motion. So this one happens to look like a c1, 0, c2. And the stiffness matrix, well, that's k1 plus k2, minus k2, minus k2, and k2, x1, x2. And for no external forces, this starts off this one has nothing on the right hand side. it's equal to 0. So those are my equations of motion. And you know if you multiply these out you'd get two equations. And each one would be this result that you get by apply Newton's law to mass one and Newton's law to mass two. But you we've done that enough times. I'm not going to go through that part of it. OK. And putting it in real numbers, that's our mass matrix. I don't know this. My stiffness matrix. So this is my K matrix here. And stiffness matrices, they're always symmetric. Although this one happened to be diagonal, you'll find that mass matrices and even the damping matrices for our linear systems are symmetric. So here's my stiffness matrix. Here's my mass matrix, OK? And also in this case here's my damping matrix, but I'm going to leave that because it's the one that's a little bit troublesome. So what do I need to do to this to carry out my modal analysis? So I need to go find the results of computing u transpose m and u and transpose Ku. And let's see what we get. So we need to know a couple things about this system. We need to know natural frequencies and mode shapes. So if we have this mass matrix and we have the stiffness matrix, then we know we can cast this. We want the undamped natural frequencies and our mode shapes. And we know that we can transform the equations of motion into an algebraic problem where we solve for the natural frequencies and mode shapes. So we have, just to remind you really quickly of that, remember our equations look like this undamped. And you assume that x is some form u in fact e to the i omega t. Plug it in, you get minus omega squared m plus K u e to the i omega t equals 0. And this now is your algebraic problem. e to this unknown set of amplitudes is 0. These are going to turn out to be the mode shapes. And they're not generally 0 so that means this has to be 0. That means we know the determinant of this matrix. And that'll give you in this case the two natural frequencies. This gives of you the omega ns of the system. Omega n squareds is what you solve for, OK? And then you go back and you get the mode shapes out of it. But this you can do on the computer too. You can either crank out-- for a two degree of freedom system, this gives you a quadratic omega squared. You solve it. You plug it back in and get the mode shapes. I'm not going to take the time to do that today because I want to emphasize the modal analysis part. So I'll give you the answers. Where are we here? So you get omega 1 is 5.6546. And I seem to be keeping a lot of significant digits, and there's a reason for that. In both mode shapes and natural frequencies you need to carry a lot of significant digits or modal analysis doesn't work, or at least you don't get the clean results you expect. If you're sloppy about the number of significant digits and you compute u transpose mu, then the [? off ?] diagonal terms won't quite go to 0. And it's just because you're not carrying enough precision. OK, now that's the two natural frequencies. Now the u matrix, the mode shapes for this system that goes with that. u comes out to be 1.0 and 2.2667. And that's mode. I'll do this to help you. The columns are the mode shapes. That's the first mode shape. And the second mode shape is 1 and minus 0.2236. So those are the mode shapes for the first and second mode that go with these two natural frequencies. So that's for this system. The top one moves one unit. The bottom one moves 2.27 times that, same direction, positive, positive. So the upper one moves one unit. The bottom one moves the opposite direction-- that's the minus signs-- equivalent to a phase angle of 180 degrees minus 22% of the amount that the upper one moves. So first one moves one unit. The bottom one moves 2.2 times that. And then the second mode, which is much harder to get going. Guess the only way I can do it is to do it the way Professor Gossard intended here. One unit up and down, minus 0.2236, going the opposite way. So those are our mode shapes. These are the natural frequencies. I calculated this one and measured it with a stopwatch. This one I can do watching it with a stopwatch. And I came within better than 1% of getting the same number. OK. So I want my model mass matrix. I carry out this calculation. And for this system, remember, it's going to give me back a diagonal matrix looking like this. And in fact, the numbers are 3.5562, 0, 0, and 0.3508. And when I calculate u transpose Ku, gives me a diagonal stiffness matrix. And I get the numbers 113.71 and 0, 0, 109.839. And that's my diagonalized stiffness matrix. Now something had better be true. I'm saying that this is now going to give me my two independent single degree of freedom equations of motion, right? So what I'm seeking here, I want to get two equations, one that looks like m1q1 double dot plus c1q1 dot plus K1q1 equals 0 for no external force. That's one of the equations I'm after. And the other one will look like m2q2 double dot plus c2q2 dot K2q2. Now one way to check that you've gotten the right thing is now these are two independent single degree of freedom systems. What's the natural frequency of this system? Yeah? Actually, I heard somebody say square root of K1 over m1. That had better be true. But numerically what's the number? What had it better be? It better be the omega 1 of the system, right? And so a check that you can perform is to check to see if the omega 1 squared equals K1/m1. You found two numbers. You've got, up here, K1 is 113.7. m1 is 3.55. Take K1/m1, and take its square root. So K1/m1, that's about 30 something. Square root of 30 something is a little less than 6. Omega 1 is 5.65. And same thing, omega 2 had better be equal to the square root of K2/m2. So one of the things you can always do when you do your modal analysis, you do your calculations, u transpose mu, u transpose Ku. If you calculate the ratios of each one of these things, you can go back and check that you can see that the natural frequencies are the ones that you started with. If they are not, then you've messed up in your arithmetic. So now we've got our two independent equations. And the natural frequencies check out. But we still have a couple of things to deal with. We have to figure out how to calculate the initial conditions, and we have to figure out how to deal with damping. Let's do ICs first. So those of you who were here last time, I ended kind of right at the end. We kind of worked our way through figuring out the initial conditions for a two degree of freedom system doing it the hard way. You end up with four equations and four unknowns for the a1, a2, phi 1, phi two. Remember that? I mean, it's really painful. This is incredibly easier. We're going to do the same thing, but extremely easily. So I would never go myself given the choice of grinding out all those phase angles and amplitudes in simultaneous equations. I'd do the following. Generally now I know the initial conditions are going to be specified not in q coordinates but in what coordinate system? In your original generalized coordinates, right? You know, your x, this one. If I'm going to set initial conditions here, I'm not going to say q1 is equal to something. I'm going to put this one down one unit and this one down two units and let go. This is in x1 and x2 coordinates. But the beautiful thing here is that we know that x equals uq. So if I know the initial conditions on I'll call it x0 here, if I know the initial deflections of the system, they're going to be u times the initial values of q. And if I know a vector of initial velocities at time 0, they're going to be uq0 dot. So if I told you values of x0 and you know that this equation's true, what we need is the q0s. We need the initial conditions in the modal coordinates in order to finish this problem. If I told you this, how would you solve for that? Just a little linear algebra here. AUDIENCE: Inverse matrix of u? PROFESSOR: Yeah, do what with it? AUDIENCE: Then you multiply x by it. PROFESSOR: Multiply it by u inverse, right? OK, so this implies that q0-- well, I'll write it out a little more fully here. So if I do u inverse x0, that's going to be equal to u inverse uq0. u inverse times u gives you? 1, basically, right? And so if I do u inverse x0, I get q0. That's all there is to it. Yeah? AUDIENCE: [INAUDIBLE] initial conditions, what about c? PROFESSOR: All right, c's a problem, OK, and I'm leaving it to the end. We're going to deal with it as the last step. And if I have initial velocities u inverse times x initial velocities vector, I get the initial velocities vector in the natural coordinates. So that's how simple it is to get the initial conditions in modal coordinates. Boom, OK? And we'll do a numerical example in a second here. We're seeking a solution of the form to do response to initial conditions. We seek equations that we know are right for a single degree of freedom system response to initial conditions. So we know that for a single degree of freedom system, x of t-- this is for SDOF system here-- we worked out before is equal to some e to the minus zeta omega nt. This is just a transient decay problem of x0 cosine omega dt plus v0 plus zeta omega n x0 all over omega d sine omega dt. We know that that's what the response of a single degree of freedom system looks like to initial conditions x0 and v0. And for light damping, for small damping, you can usually even ignore this term. So it's just even simpler. This term is small compared to that, all right? This term, contribution from x0, is small compared to this term. So it's basically dominated by an x0 cosine and a v0 over omega d sine. But we know that's the exact response for a single degree of freedom system to initial conditions. So just by analogy to that, we're looking for mode one in modal coordinates. It's going to look exactly the same way. e to the minus zeta omega nt, q0 cosine omega 1 d-- this is omega dt-- plus q0 dot plus zeta 1 omega 1 q0. I guess I need to do q10 like that. This is the first mode's equation, zeta 1. And I'll call this omega 1. But now that you get multiple degree of freedom systems, you got to keep track of what mode you're talking about. Mode one, damping ratio mode one, natural frequency mode one, initial displacement mode one, initial velocity mode one, omega 1 d like that. And mode two is going to be exactly analogous. q2 equals, and it's exactly similar, except you update it with a 2 instead of a 1. And if you plug in the initial-- you over here have found the initial values for q10 and q20 and q1 dot 0 and so forth. You found the initial values that plug into that equation by just doing this. And once we have this, then we can go back to saying, how do you get to the final answer? Well, you just multiply the result for q times the mode shape and add them up. And you have the answer. But we still have to deal with the damping problem. We're going to do that one next. But I see a bunch of hands and some puzzled looks, so it means it's a good time to stop and talk for a second. Yeah? AUDIENCE: [INAUDIBLE] PROFESSOR: Pardon? AUDIENCE: What if you [INAUDIBLE] PROFESSOR: I can't quite hear. AUDIENCE: The sine theta and the sine rate of g. PROFESSOR: Yeah, what about it? AUDIENCE: Why do we lose it? PROFESSOR: Why do we use it? AUDIENCE: Lose it. PROFESSOR: Oh, you don't lose it. I was saying, you see this bit, it's like that. These are two pieces that behave like sine. And see, this one depends on initial displacement but is multiplied by the damping ratio. And the damping ratio for things that are interesting is usually pretty small. So here you have a term that's x0 cosine omega 1 damped, and here you have a contribution that's x0 small times x0 sine omega 1 damped. So you multiply the same. They're operating on the same frequency. Two terms at the same frequency, you add them together, it's like a cosine omega t minus some phase angle. If this little term is small, that phase angle's almost 0. x0 cosine plus something x0 sine, it gives you a cosine term that is shifted a little bit and its magnitude is different by this little amount. I'm just saying oftentimes this is small. But if you don't want to make that approximation, just carry it along. Just do it. AUDIENCE: [INAUDIBLE] PROFESSOR: Mm-hmm. AUDIENCE: [INAUDIBLE] PROFESSOR: Oh, no. I'm just saying you can throw out this piece usually. And it makes-- I keep in my mind-- let me see. OK, now. Vibration engineering is full of lots of approximations because it's very hard oftentimes to get detailed quantitative numbers on exactly everything you need to know. So I carry around little approximations that I know is the way the world mostly behaves. And the way the world mostly behaves for a single degree of freedom system is the response to initial conditions looks like this. And this initial value here is always approximately x0. And this initial slope here is always approximately v0. That's the slope. Now, it turns out that this thing is shifted just slightly. Why? Because of this term, OK? But honest, to tell you the truth, it really rarely matters. So as a vibration engineer, I just remember I have an x0 cosine. I have a v0 over omega d sine. And the whole thing decays like that. But if you like to be mathematically precise, you carry along that a little bit. Yeah? AUDIENCE: Don't you lose [INAUDIBLE] sine wave? PROFESSOR: You're not going to lose the sine. AUDIENCE: [INAUDIBLE] PROFESSOR: Oh, oh, oh. Wait a minute. I just left it out. You guys are-- well, I'm glad you're awake. This is good. Now how's that? Ah, good. Now I know why I had so many puzzled looks. Anybody have a different question? Just anything now about this whole modal analysis thing? Because then we have to deal with this awkward part that has to do with the damping. And I've got to finish on time, OK? All right. So damping. I've gotten this far. What I need is I need estimates for the damping for mode one and damping for mode two, right? So the problem is that utcu does not always equal some nice diagonalized matrix. You sometimes get these are not always 0, OK? The orthogonality principle just doesn't apply to the damping terms. Just doesn't. But this actually doesn't hurt you a lot. You just got to know that this is going to be a problem. And when the systems are lightly damped, the approximation, even if your true damping in the system gives you some non-zero elements here, the first order behavior of the system is basically going to be-- you can just ignore the off-diagonal elements. What practical consequence do you think it has if you have some actual non-zero numbers here? Go back and look at the equations that you're trying to derive. These were the equations that we were trying to come up with. And we wanted them to be n individual single degree of freedom systems. But if this has non-zero off-diagonal terms, you're going to find popping up in this single degree of freedom equation another term that couples it through damping to the other modes. It provides a little bit of coupling to other modes. They can talk to one another, all right? And what that means is if I-- this may be a good time to do the demonstration. How do I want to say this? If the initial displacement of the system is in the shape of one of the natural modes-- so if this is some u, this is exactly shaped like mode r. So this looks like the ur vector. When I carry out this multiplication, what do you think will happen? If this is shaped like mode r, because of orthogonality when I do u inverse, which is all about the mode shapes information and the mode shapes are these orthogonal set of independent orthogonal vectors, if this is exactly one mode and I do u inverse times that, I will get 0 over here on the right hand side for every mode except the mode that that's shaped like. So if this is shaped like a particular mode, then over here all the modal initial conditions are 0 except that mode. That means if I set this, give its initial conditions are equal to the shape exactly of mode one, it only responds in mode one. And if I give it initial conditions that are exactly shaped like that of mode two, then it only responds in mode two. And if I give it anything else, like I move just the top one but not the bottom and let it go, then there's-- maybe I better do the other one. That one had too much of one and not the other. If I hold this one, here's its reference. I'm going to hold it right there and I'm going to give this one a unit deflection and let go. Now you see a get some of both, all right? So if when I do this first one, say first mode, I could sit here and measure how many cycles it takes to decay halfway and estimate the damping ratio for that mode. If it's only moving in this mode, I can estimate its damping directly for that mode and get zeta 1. You agree? OK. And I did the same thing with mode two, it's too fast for me to catch it with a stopwatch, but I could measure its damping. And as it decays, I could get an estimate for zeta 2, for the damping ratio for mode two, all right? All right. But somehow I have to get damping ratio for mode one, zeta 1, and damping ratio for mode two, zeta 2. I have to somehow get it out of this. I have to model it somehow with these damping coefficients that come from computing this u transpose cu, OK. So I'm going to show you kind of damping called Rayleigh damping, OK? Lord Rayleigh, who did lots of things in science that you've probably run into, proposed that if you model your damping, the c matrix as-- this is just now the system damping matrix that you start with-- some alpha times the mass matrix plus beta times the stiffness matrix-- these are now the original ones in your generalized coordinates, just your mass and stiffness matrices. If you say, I'm going to approximate my damping model like this, then I want to compute u transpose cu. I'm going to get alpha u transpose mu plus beta u transpose Ku. But we know that this gives you the diagonalized mass matrix, known as the modal mass matrix. This gives you the diagonalized stiffness matrix. And so this damping model, this is guaranteed to give you a diagonalized damping matrix which we'll call, somehow, some capital C2, 0, 0, C2, all right? And it's going to be alpha times the modal mass matrix plus a beta times the modal stiffness matrix. And those alphas and betas you adjust. They're just parameters you adjust to get the amount of damping you need, OK? So for a two degree of freedom system, C1 here is alpha m1 plus beta K1. Modal mass, alpha times the modal mass plus beta times the modal stiffness. That's what you get for the first one. And C2 is alpha m2 plus beta K2, OK? And the alphas and betas give you two free parameters you can play with. And for a two degree of freedom system, I can manipulate alpha and beta to get the damping that I measure. And I forced my equations of motion a couple. Now, Mother Nature may say, you know, Vandiver, they don't uncouple, and there's going to be a little crosstalk between them. But I say, yeah, but to first order I'm going to get a pretty good model of the system. So let's do that in this case. Let's maybe just to keep it-- I've got numbers here, so let my notes so I don't get completely lost here. So I'm going to just pick one for now. I'm going to model my damping with just beta K, beta times my diagonal, my stiffness matrix. And let's see what happens here. So that says my modal damping is going to be some, for mode one, beta K1. Now what's damping ratio? Zeta 1 for a single degree of freedom system is the damping constant for the system over 2 omega 1 m1. But that's going to be beta K1 over 2 omega 1 m1. But m1/K1 is omega 1 squared. So I get an omega 1 squared in the numerator. Beta omega 1 squared over 2 omega 1. Remember, the K over the m gave me the omega one squared, so the ms are gone. You can cancel one of these. This gives me beta omega 1 over 2. So this now gives me a way I can fit one of the dampings. I can get exactly what I want, say, for mode one if I pick beta to be the right number. OK, so in this case, I actually did some numbers. Pardon? Can't hear you. AUDIENCE: [INAUDIBLE] PROFESSOR: No. K1/m1 is omega 1 squared. Omega 1 squared takes care of the m1. I get rid of one of the omega 1s. I'm left with this, OK? OK. So let's just let beta equal 0.01. And if you let beta equal to 0.01, then zeta 1 equals 0.01 omega 1 over 2. We know omega 1 is 5.65. This when you work it out then gives you a number of 0.0283, about 3%. And that would say that this system when it vibrates in mode one is going to damp out up to 50% in about three cycles. Not bad approximations. I'm just guessing about what it is. That's a reasonable amount of damping for mode one. Now the problem is when I only use just beta K as my model. Now I'm stuck with whatever happens for mode two once I pick beta because zeta 2 is going to be beta omega 2 over 2. And omega 2 is quite a bit larger, so now I'm stuck with a greater value for the second mode. In this case, it's 0.0885. So if I just pick a one parameter model for my damping, I can make one perfect. I can match it perfectly, but then I'm stuck with whatever the other one is. So I did this because I could do it simply with one. But if I'd kept the full two-parameter model, with manipulating both alpha and beta I could actually get both of the two measured dampings exactly right. But if I have an n degree-- if I have three degree of freedom system, I only have two parameters. I can fit two of the damping ratios, but then I'm going to be stuck with whatever it gives me for the third. But oftentimes it's just one mode you really care about. It's the problem mode. You're at its natural frequency. It's going like crazy. Initial conditions make it vibrate a lot in that mode. But this is what Rayleigh damping allows you to do. It guarantees you that you will have a diagonalized set of equations of motion. And it gives you two parameters that you can play with to fit the damping model however you want. Once you have damping, now you have the complete solution for decay from initial conditions. And there's your two models. You can solve for q1, transient decay given initial conditions. You can solve for q2, transient K of the second mode. And then to get back to the initial to the response in terms of your modal coordinates, you just add the two together, OK? I got some numbers here which are just instructive. u Inverse. In order to get these initial conditions, you've got to know u inverse. Do we know u? I gave us u. Here's our set of mode shape vectors. And I've run out of boards. So we have the u matrix. We need u inverse, so u inverse for this problem. And we're going to quickly do some examples. Let's let the v0s be 0. No initial conditions on velocities. And let's do x0, the initial displacements, be 1 and 0. So the 1 and 0, what we're saying is the bottom one doesn't move, unit deflection here, let it go. What are you're going to get for the initial conditions? x0 equals 1 and 0, well, that implies that the qs are going to be u inverse x0. So by the way, if this is true, this implies that all q dot initial conditions equal 0, right? No initial velocities in generalized coordinates, no initial velocities in modal coordinates. But we are going to have an initial deflection. I want to then compute u inverse x0 and see what I get. And what I get back when I do this one is 0.0898 and 0.9102. Remember, this is q10, q20. So for that case, it says I'm going to get 0.08 or 0.09 equal to q1 and 0.9 of q2. And I go back over here to my transient decay. There's no velocity. So it's basically going to look like q10 cosine omega dt, e the minus zeta omega t, decaying, cosine. But for mode one, its initial amplitude's less than 0.1. And mode two, it's got a lot of mode two. So what happens? So unit deflection here, in fact it's mostly mode two. And just quickly I'll do one other. x0 is 0, 1. That implies that q0 that you get from that is 0.4016 and minus 0.4016. Says you get about equal amounts. So that's this one. I don't move this one, but I give this one a unit deflection, let go. I get about equal amounts of each one. And of course I've told you the answer to this one. If I let x equal mode one's mode shape, 1 and 2.266, that implies that q1 equals 1 and q2, when you multiply it out, is zero 0. If I deflect it in the shape of mode one and I do u inverse x0, I will get back 0 and 1. And if I make this the shape of mode two, I will get back 0 for mode one and 1 for mode two. I've out of time, but that's your intro to modal analysis. So I think it's conceptually powerful. Yes. AUDIENCE: How did you get from the 0.898 value to the 0.0898 value? AUDIENCE: The inverse should be 0.0898. PROFESSOR: Oh, is this 0.08? Yeah, OK. I may have written that down. Yeah. I'll double check that. But yeah, question? AUDIENCE: Why is it for here that we picked c to be only a function of-- PROFESSOR: Beta? AUDIENCE: A. PROFESSOR: Because I want to get done by the end of the-- AUDIENCE: OK. PROFESSOR: --60 minutes, 80 minutes. I could have put both of them in, manipulated both parameters as two equation with [? two ?] modes, two target values of dampings. I'd find an alpha and a beta that would make both work exactly right. Actually, just this one model is pretty good for this case. The damping for second mode is greater than the first mode just happens to be. This model's not bad. AUDIENCE: All right, so you try the three and see what gets you the best results? PROFESSOR: Yeah.