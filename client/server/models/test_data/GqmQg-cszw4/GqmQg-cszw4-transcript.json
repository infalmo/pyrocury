[{"text": "The following content is\nprovided under a Creative", "start": 0.09, "duration": 2.34}, {"text": "Commons license.", "start": 2.43, "duration": 1.39}, {"text": "Your support will help\nMIT OpenCourseWare", "start": 3.82, "duration": 2.23}, {"text": "continue to offer high quality\neducational resources for free.", "start": 6.05, "duration": 4.1}, {"text": "To make a donation or to\nview additional materials", "start": 10.15, "duration": 2.54}, {"text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare", "start": 12.69, "duration": 3.91}, {"text": "at ocw.mit.edu", "start": 16.6, "duration": 9.454}, {"text": "PROFESSOR: In this\nclass, this semester,", "start": 26.054, "duration": 1.666}, {"text": "the other co-lecturer\nis going to be", "start": 27.72, "duration": 1.976}, {"text": "James Mickens, who is a visiting\nprofessor from Microsoft", "start": 29.696, "duration": 2.374}, {"text": "Research.", "start": 32.07, "duration": 1.41}, {"text": "He'll lecture on some other\ntopics like web security", "start": 33.48, "duration": 2.65}, {"text": "later on.", "start": 36.13, "duration": 1.39}, {"text": "But we'll decide later what's\ngoing on exactly, in terms", "start": 37.52, "duration": 2.98}, {"text": "of the lecture split up.", "start": 40.5, "duration": 1.1}, {"text": "We also have four TAs this year,\nStephen, Webb, [INAUDIBLE],", "start": 41.6, "duration": 4.52}, {"text": "and James.", "start": 46.12, "duration": 1.49}, {"text": "And hopefully you'll meet them\nin office hours over the year", "start": 47.61, "duration": 4.98}, {"text": "if you need help.", "start": 52.59, "duration": 2.19}, {"text": "So the plan for this\nclass is to understand", "start": 54.78, "duration": 3.17}, {"text": "how to build secure systems,\nwhy computer systems sometimes", "start": 57.95, "duration": 3.95}, {"text": "are insecure and how we\ncan make them better,", "start": 61.9, "duration": 2.43}, {"text": "and what goes wrong.", "start": 64.33, "duration": 1.71}, {"text": "And in order to do this, there's\nnot really a great textbook", "start": 66.04, "duration": 2.93}, {"text": "about this topic.", "start": 68.97, "duration": 0.86}, {"text": "So instead, what\nwe're going to do", "start": 69.83, "duration": 1.416}, {"text": "is, each lecture\nother than this one is", "start": 71.246, "duration": 2.444}, {"text": "going to be focused around some\nresearch, typically a paper,", "start": 73.69, "duration": 3.17}, {"text": "that we'll assign on\nthe website and you guys", "start": 76.86, "duration": 2.87}, {"text": "should read ahead of time.", "start": 79.73, "duration": 1.32}, {"text": "And there are some\nquestion that you", "start": 81.05, "duration": 1.5}, {"text": "should answer in the submission\nsystem about the paper.", "start": 82.55, "duration": 3.23}, {"text": "And submit your own question\nby 10:00 PM before the lecture", "start": 85.78, "duration": 2.74}, {"text": "day.", "start": 88.52, "duration": 0.7}, {"text": "And then when you\ncome to lecture,", "start": 89.22, "duration": 0.89}, {"text": "we'll actually discuss\nthe paper, figure out,", "start": 90.11, "duration": 1.874}, {"text": "what is the system?", "start": 91.984, "duration": 0.826}, {"text": "What problem does it solve?", "start": 92.81, "duration": 1.69}, {"text": "When does it work?", "start": 94.5, "duration": 0.8}, {"text": "When does it not work?", "start": 95.3, "duration": 1.43}, {"text": "Are these ideas any\ngood in other cases?", "start": 96.73, "duration": 2.27}, {"text": "Et cetera.", "start": 99.0, "duration": 0.56}, {"text": "And hopefully, through\nthese case studies,", "start": 99.56, "duration": 2.28}, {"text": "we'll get some appreciation\nof how do we actually build", "start": 101.84, "duration": 3.24}, {"text": "systems that are secure.", "start": 105.08, "duration": 2.14}, {"text": "And we have some preliminary\nschedule up on the website.", "start": 107.22, "duration": 2.424}, {"text": "If there's other topics you guys\nare particularly interested in,", "start": 109.644, "duration": 2.666}, {"text": "or if there's particular\npapers you're excited about,", "start": 112.31, "duration": 1.99}, {"text": "just send us email and\nwe'll see if we can", "start": 114.3, "duration": 1.75}, {"text": "fit them in or do something.", "start": 116.05, "duration": 1.48}, {"text": "We're pretty flexible.", "start": 117.53, "duration": 1.62}, {"text": "So if there's\nanything that you'd", "start": 119.15, "duration": 2.0}, {"text": "like to hear more\nabout, just let us know.", "start": 121.15, "duration": 2.823}, {"text": "And in a similar vein, if\nyou ever have a question", "start": 123.973, "duration": 4.547}, {"text": "or if there's some mistake,\njust interrupt and ask", "start": 128.52, "duration": 2.77}, {"text": "us what's going on\nin lecture, anytime.", "start": 131.29, "duration": 4.47}, {"text": "Security is, in many ways,\nall about the details", "start": 135.76, "duration": 2.43}, {"text": "and getting everything right.", "start": 138.19, "duration": 1.91}, {"text": "And I will inevitably\nmake mistakes.", "start": 140.1, "duration": 1.642}, {"text": "So if something\ndoesn't seem right,", "start": 141.742, "duration": 1.458}, {"text": "there's a good chance it's not.", "start": 143.2, "duration": 1.37}, {"text": "And you should just\ninterrupt and ask.", "start": 144.57, "duration": 1.583}, {"text": "And we'll figure\nout what's going on", "start": 146.153, "duration": 1.887}, {"text": "and what's the right\nway to do things.", "start": 148.04, "duration": 2.69}, {"text": "And I guess in terms of\nthe class organization,", "start": 150.73, "duration": 2.94}, {"text": "the other large\npart of the class,", "start": 153.67, "duration": 1.466}, {"text": "in addition to\nlectures, is going", "start": 155.136, "duration": 1.374}, {"text": "to be a series of\nlab assignments.", "start": 156.51, "duration": 2.03}, {"text": "The first one is already\nposted on the website.", "start": 158.54, "duration": 2.2}, {"text": "And these lab\nassignments will help", "start": 160.74, "duration": 2.22}, {"text": "you go through understanding\nthe different range of security", "start": 162.96, "duration": 3.88}, {"text": "problems and how do you prevent\nthem in a simple web server.", "start": 166.84, "duration": 4.38}, {"text": "So in lab one, which\nis out right now,", "start": 171.22, "duration": 2.916}, {"text": "you'll actually\ntake a web server", "start": 174.136, "duration": 1.374}, {"text": "that we give you and find ways\nto exploit buffer overflow", "start": 175.51, "duration": 3.4}, {"text": "vulnerabilities in it and\ntake control of this website", "start": 178.91, "duration": 2.89}, {"text": "by just sending it\ncarefully-crafted requests", "start": 181.8, "duration": 2.22}, {"text": "and packets.", "start": 184.02, "duration": 1.41}, {"text": "And in other labs,\nyou'll look at ways", "start": 185.43, "duration": 1.87}, {"text": "to defend the web server,\nto find bugs in the code,", "start": 187.3, "duration": 2.85}, {"text": "to write worms that\nrun in the user's", "start": 190.15, "duration": 3.76}, {"text": "browser, and other kinds of\ninteresting security problems.", "start": 193.91, "duration": 5.01}, {"text": "One thing that\nsurprises many students", "start": 198.92, "duration": 2.23}, {"text": "is that every lab uses\na different language.", "start": 201.15, "duration": 3.59}, {"text": "So lab one is all\nabout C and Assembly.", "start": 204.74, "duration": 2.42}, {"text": "Lab two involves a\nlot of Python coding.", "start": 207.16, "duration": 2.37}, {"text": "Lab three will be\nsomething else.", "start": 209.53, "duration": 1.45}, {"text": "Lab five will be JavaScript.", "start": 210.98, "duration": 1.68}, {"text": "And so on.", "start": 212.66, "duration": 0.94}, {"text": "This is sort of inevitable.", "start": 213.6, "duration": 1.74}, {"text": "And I sort of\napologize ahead of time", "start": 215.34, "duration": 1.58}, {"text": "that you're going\nto have to learn", "start": 216.92, "duration": 1.05}, {"text": "all these languages if you\nhaven't seen them already.", "start": 217.97, "duration": 2.209}, {"text": "In some ways it's useful,\nbecause the real world", "start": 220.179, "duration": 1.999}, {"text": "is like this.", "start": 222.178, "duration": 0.562}, {"text": "All the systems are\ncomplicated and composed", "start": 222.74, "duration": 1.833}, {"text": "of different parts.", "start": 224.573, "duration": 0.977}, {"text": "And in the long run,\nit'll be useful for you,", "start": 225.55, "duration": 2.599}, {"text": "for your moral\ncharacter or something", "start": 228.149, "duration": 1.541}, {"text": "like that, to learn this stuff.", "start": 229.69, "duration": 2.49}, {"text": "But it will take\nsome preparation,", "start": 232.18, "duration": 1.691}, {"text": "especially if you haven't\nseen these languages before.", "start": 233.871, "duration": 2.249}, {"text": "It might be helpful\nto start early.", "start": 236.12, "duration": 1.67}, {"text": "In particular, lab\none is going to rely", "start": 237.79, "duration": 2.96}, {"text": "on a lot of subtle\ndetails of C and Assembly", "start": 240.75, "duration": 2.38}, {"text": "code that we don't really\nteach in other classes", "start": 243.13, "duration": 2.91}, {"text": "here in as much detail.", "start": 246.04, "duration": 1.52}, {"text": "So it's probably a good\nidea to start early.", "start": 247.56, "duration": 1.84}, {"text": "And we'll try to get the TAs\nto hold office hours next week", "start": 249.4, "duration": 2.89}, {"text": "where we'll do some sort\nof a tutorial session", "start": 252.29, "duration": 2.41}, {"text": "where we can help you get\nstarted with understanding what", "start": 254.7, "duration": 4.0}, {"text": "a binary program looks\nlike, how to disassemble it,", "start": 258.7, "duration": 2.8}, {"text": "how to figure out what's\non the stack, and so on.", "start": 261.5, "duration": 4.4}, {"text": "All right.", "start": 265.9, "duration": 0.89}, {"text": "And I guess the one other\nthing, we're actually", "start": 266.79, "duration": 2.469}, {"text": "videotaping lectures this year.", "start": 269.259, "duration": 1.291}, {"text": "So you might be able\nto watch these online.", "start": 270.55, "duration": 2.48}, {"text": "We'll post them as soon\nas we get them ourselves", "start": 273.03, "duration": 2.0}, {"text": "from the video people.", "start": 275.03, "duration": 2.66}, {"text": "And the last bit\nof administrivia", "start": 277.69, "duration": 1.65}, {"text": "is you should, if you\nhave questions online,", "start": 279.34, "duration": 3.437}, {"text": "we're using Piazza,\nso I'm sure you've", "start": 282.777, "duration": 1.583}, {"text": "used this in other classes.", "start": 284.36, "duration": 2.51}, {"text": "All right.", "start": 286.87, "duration": 0.66}, {"text": "So before we dive into security,\nI need to tell you one thing.", "start": 287.53, "duration": 3.49}, {"text": "There is a sort of rules\nthat MIT has for accessing", "start": 291.02, "duration": 4.17}, {"text": "MIT's network when you're,\nespecially, doing security", "start": 295.19, "duration": 2.84}, {"text": "research or playing\nwith security problems,", "start": 298.03, "duration": 2.15}, {"text": "you should be aware that not\neverything you can technically", "start": 300.18, "duration": 3.02}, {"text": "do is legal.", "start": 303.2, "duration": 1.67}, {"text": "And there's many things that you\nwill learn in this class that", "start": 304.87, "duration": 3.58}, {"text": "are technically possible.", "start": 308.45, "duration": 1.13}, {"text": "We'll understand how systems\ncan be broken or compromised.", "start": 309.58, "duration": 4.3}, {"text": "Doesn't mean you should go\nout and do this everywhere.", "start": 313.88, "duration": 2.77}, {"text": "And there's this link\nin the lecture notes", "start": 316.65, "duration": 2.72}, {"text": "we'll post that has some rules\nthat are good guidelines.", "start": 319.37, "duration": 2.92}, {"text": "But in general, if\nyou're in doubt,", "start": 322.29, "duration": 1.77}, {"text": "ask one of the lecturers or a\nTA as to what you should do.", "start": 324.06, "duration": 4.89}, {"text": "And hopefully it's not too\npuzzling, what's going on.", "start": 328.95, "duration": 5.85}, {"text": "All right.", "start": 334.8, "duration": 0.5}, {"text": "So any questions about\nall this administrivia", "start": 335.3, "duration": 1.99}, {"text": "before we dive in?", "start": 337.29, "duration": 2.33}, {"text": "Feel free to ask questions.", "start": 339.62, "duration": 2.53}, {"text": "OK.", "start": 342.15, "duration": 0.84}, {"text": "So what is security?", "start": 342.99, "duration": 1.3}, {"text": "So we'll start with\nsome basic stuff today.", "start": 344.29, "duration": 2.95}, {"text": "And we'll look at just\nsome general examples", "start": 347.24, "duration": 2.91}, {"text": "of why security is hard\nand what it means to try", "start": 350.15, "duration": 3.13}, {"text": "to build a secure system.", "start": 353.28, "duration": 1.88}, {"text": "Because there's\nnot really a paper,", "start": 355.16, "duration": 1.61}, {"text": "this will not have sort of deep\nintellectual content, maybe,", "start": 356.77, "duration": 3.16}, {"text": "but it'll give you some\nbackground and context for how", "start": 359.93, "duration": 2.25}, {"text": "to think about secure systems.", "start": 362.18, "duration": 2.37}, {"text": "So security, in\ngeneral, is all about", "start": 364.55, "duration": 2.34}, {"text": "achieving some goal when\nthere is an adversary present.", "start": 366.89, "duration": 3.865}, {"text": "So think of it as there's some\nbad guy out there that wants", "start": 373.41, "duration": 3.1}, {"text": "to make sure you don't succeed.", "start": 376.51, "duration": 2.01}, {"text": "They want to steal your files.", "start": 378.52, "duration": 1.25}, {"text": "They want to delete your\nentire hard drive contents.", "start": 379.77, "duration": 2.68}, {"text": "They want to make\nsure nothing works", "start": 382.45, "duration": 2.26}, {"text": "and your phone doesn't connect,\nall these things, right?", "start": 384.71, "duration": 3.06}, {"text": "And a secure system is\none that can actually", "start": 387.77, "duration": 2.36}, {"text": "do something, regardless\nof what the bad guy is", "start": 390.13, "duration": 2.52}, {"text": "trying to do to you.", "start": 392.65, "duration": 0.842}, {"text": "So it's kind of cool that we\ncan actually potentially build", "start": 393.492, "duration": 2.458}, {"text": "systems that are\nresilient to a whole range", "start": 395.95, "duration": 3.05}, {"text": "of bad guys,\nadversaries, attackers,", "start": 399.0, "duration": 2.4}, {"text": "whatever you want to call them.", "start": 401.4, "duration": 2.04}, {"text": "And we can still build\ncomputer systems that", "start": 403.44, "duration": 2.28}, {"text": "allow us to get our work done.", "start": 405.72, "duration": 2.29}, {"text": "And the general way to\nthink about security", "start": 408.01, "duration": 5.42}, {"text": "is sort of break it\nup into three parts.", "start": 413.43, "duration": 2.45}, {"text": "One part is roughly\nthe policy that you", "start": 415.88, "duration": 4.184}, {"text": "want your system to enforce.", "start": 420.064, "duration": 1.166}, {"text": "This is roughly the goal\nthat you want to achieve.", "start": 421.23, "duration": 2.083}, {"text": "Like well, maybe,\nonly I should be", "start": 423.313, "duration": 2.117}, {"text": "able to read the\ngrades file for 6.858.", "start": 425.43, "duration": 3.76}, {"text": "Or maybe the TAs as well,\nand all the co-lecturers,", "start": 429.19, "duration": 2.14}, {"text": "et cetera.", "start": 431.33, "duration": 0.649}, {"text": "But there is some statement\nabout what I want my system", "start": 431.979, "duration": 2.291}, {"text": "to be able to do.", "start": 434.27, "duration": 1.94}, {"text": "And then, if you\nwant sort of think", "start": 436.21, "duration": 2.256}, {"text": "about what kinds of\npolicies you might write,", "start": 438.466, "duration": 1.874}, {"text": "typical ones have to do with\neither confidentiality of data,", "start": 440.34, "duration": 6.51}, {"text": "so the grades file is only\naccessible to the 6.858 course", "start": 446.85, "duration": 4.19}, {"text": "staff.", "start": 451.04, "duration": 1.29}, {"text": "Another example of\na security policy", "start": 452.33, "duration": 1.56}, {"text": "has something to\ndo with integrity.", "start": 453.89, "duration": 1.854}, {"text": "For example, only\nthe course staff", "start": 455.744, "duration": 1.416}, {"text": "can also modify the grades file.", "start": 457.16, "duration": 1.444}, {"text": "Or only the course staff\ncan upload the final grades", "start": 458.604, "duration": 2.166}, {"text": "to the registrar's office.", "start": 460.77, "duration": 1.083}, {"text": "That'll be great.", "start": 461.853, "duration": 1.437}, {"text": "Then you can also think about\nthings like availability.", "start": 463.29, "duration": 4.48}, {"text": "So for example, a website\nshould be available,", "start": 467.77, "duration": 4.0}, {"text": "even if the bad guys try\nto take it down and mount", "start": 471.77, "duration": 2.27}, {"text": "some sort of a DOS-- Denial\nof Service-- attack on it.", "start": 474.04, "duration": 3.932}, {"text": "So this is all well and good.", "start": 477.972, "duration": 1.208}, {"text": "So these are the policies\nthat we might actually", "start": 479.18, "duration": 2.0}, {"text": "care about from a system.", "start": 481.18, "duration": 1.68}, {"text": "But because it's security,\nthere's a bad guy involved.", "start": 482.86, "duration": 2.36}, {"text": "We need to understand,\nwhat are we thinking", "start": 485.22, "duration": 1.46}, {"text": "the bad guy is going to do?", "start": 486.68, "duration": 1.3}, {"text": "And this is typically what\nwe call a threat model.", "start": 487.98, "duration": 2.21}, {"text": "And this is basically\njust a set of assumptions", "start": 493.09, "duration": 2.04}, {"text": "about the bad guy or adversary.", "start": 495.13, "duration": 7.96}, {"text": "And it's important to have\nsome sort of assumptions", "start": 503.09, "duration": 2.62}, {"text": "about the bad guy because,\nif the bad guy is omnipresent", "start": 505.71, "duration": 3.6}, {"text": "and is everywhere at once and\nyou can do anything they want,", "start": 509.31, "duration": 3.39}, {"text": "it's going to be hard to achieve\nsome semblance of security.", "start": 512.7, "duration": 3.33}, {"text": "So for example,\nyou probably want", "start": 516.03, "duration": 1.6}, {"text": "to assume the bad guy doesn't\nexactly know your password,", "start": 517.63, "duration": 3.12}, {"text": "or they don't actually have\nphysical access to your phone", "start": 520.75, "duration": 2.409}, {"text": "and your keys and your laptop.", "start": 523.159, "duration": 1.891}, {"text": "Otherwise, it's going to be hard\nto make some sort of progress", "start": 525.05, "duration": 2.94}, {"text": "in this game.", "start": 527.99, "duration": 2.52}, {"text": "And turns out that while\nthis is actually quite tricky", "start": 530.51, "duration": 2.43}, {"text": "to come up with, but I guess\none general rule is it's", "start": 532.94, "duration": 3.53}, {"text": "much better err on\nthe side of caution", "start": 536.47, "duration": 2.92}, {"text": "and being conservative in\npicking your threat model,", "start": 539.39, "duration": 2.41}, {"text": "because bad guy might\nalways surprise you", "start": 541.8, "duration": 2.12}, {"text": "in terms of what they might\nbe able to do in practice.", "start": 543.92, "duration": 3.37}, {"text": "And finally, in order to\nachieve security, in order", "start": 547.29, "duration": 2.9}, {"text": "to achieve our goal under\nthe set of assumptions,", "start": 550.19, "duration": 2.79}, {"text": "we're going to look\nat some mechanism.", "start": 552.98, "duration": 1.6}, {"text": "And this is the, basically,\nsoftware or hardware", "start": 557.4, "duration": 4.32}, {"text": "or whatever part\nof system design,", "start": 561.72, "duration": 2.87}, {"text": "implementation,\net cetera, that's", "start": 564.59, "duration": 1.69}, {"text": "going to try to make sure\nour policy is followed", "start": 566.28, "duration": 4.19}, {"text": "as long as the bad guy\nfollows the threat model.", "start": 570.47, "duration": 3.96}, {"text": "So the end result\nis that, as long", "start": 574.43, "duration": 2.54}, {"text": "as our threat model was\ncorrect, hopefully we'll", "start": 576.97, "duration": 2.73}, {"text": "satisfy our policy.", "start": 579.7, "duration": 1.11}, {"text": "And it has to be the case that\nthe mechanism doesn't screw up.", "start": 580.81, "duration": 3.29}, {"text": "Make sense?", "start": 584.1, "duration": 1.32}, {"text": "Fairly high level\nstory about how", "start": 585.42, "duration": 2.8}, {"text": "to think about\nthis kind of stuff.", "start": 588.22, "duration": 2.25}, {"text": "So why is this so hard, right?", "start": 590.47, "duration": 1.94}, {"text": "It seems like a simple plan.", "start": 592.41, "duration": 1.234}, {"text": "You write down\nthese three things,", "start": 593.644, "duration": 1.416}, {"text": "and you're off and running.", "start": 595.06, "duration": 2.12}, {"text": "But in practice, as you, I'm\nsure, have seen in the world,", "start": 597.18, "duration": 5.0}, {"text": "computer systems are\nalmost always compromised", "start": 602.18, "duration": 2.31}, {"text": "in some way or another.", "start": 604.49, "duration": 1.24}, {"text": "And break ins are\npretty commonplace.", "start": 605.73, "duration": 2.57}, {"text": "And the big reason\nwhy security tends", "start": 608.3, "duration": 3.91}, {"text": "to be a difficult problem\nis because what we have here", "start": 612.21, "duration": 2.59}, {"text": "is sort of, this will be\nfamiliar to those of you", "start": 614.8, "duration": 2.46}, {"text": "took 6.033, this\nis a negative goal,", "start": 617.26, "duration": 2.14}, {"text": "meaning that we have to make\nsure our security policy is", "start": 619.4, "duration": 3.87}, {"text": "followed regardless of\nwhat the attacker can do.", "start": 623.27, "duration": 4.09}, {"text": "So just by contrast, if you\nwant to build a file system,", "start": 627.36, "duration": 3.37}, {"text": "and you want to make sure that\nmy TAs can access the grades", "start": 630.73, "duration": 5.58}, {"text": "file, that's pretty easy.", "start": 636.31, "duration": 1.48}, {"text": "I just ask them, hey, can\nyou guys test and see?", "start": 637.79, "duration": 2.33}, {"text": "Can you access the grades file?", "start": 640.12, "duration": 1.291}, {"text": "And if they all can\naccess it, done.", "start": 641.411, "duration": 2.189}, {"text": "The system works.", "start": 643.6, "duration": 1.74}, {"text": "But if I want to say that\nno one other than the TAs", "start": 645.34, "duration": 2.73}, {"text": "can access the grades file,\nthis is a much harder problem", "start": 648.07, "duration": 2.57}, {"text": "to solve, because now\nI have to figure out", "start": 650.64, "duration": 2.18}, {"text": "what could all these non TA\npeople in the world to try", "start": 652.82, "duration": 3.19}, {"text": "to get my grades file, right?", "start": 656.01, "duration": 1.45}, {"text": "They could try to just\nopen it and read it.", "start": 657.46, "duration": 3.65}, {"text": "Maybe my file system\nwill disallow it.", "start": 661.11, "duration": 1.85}, {"text": "But they might try all\nkinds of other attacks,", "start": 662.96, "duration": 1.94}, {"text": "like guessing the\npassword for the TAs", "start": 664.9, "duration": 2.16}, {"text": "or stealing the TAs laptops\nor breaking into the room", "start": 667.06, "duration": 3.61}, {"text": "or who knows, right?", "start": 670.67, "duration": 1.29}, {"text": "This is all stuff that\nwe have to really put", "start": 671.96, "duration": 2.05}, {"text": "into our threat model.", "start": 674.01, "duration": 1.04}, {"text": "Probably for this class,\nI'm not that concerned about", "start": 675.05, "duration": 2.6}, {"text": "the grades file to worry about\nthese guys' laptops being", "start": 677.65, "duration": 3.63}, {"text": "stolen from their dorm room.", "start": 681.28, "duration": 1.6}, {"text": "Although maybe I should be.", "start": 682.88, "duration": 0.58}, {"text": "I don't know.", "start": 683.46, "duration": 0.541}, {"text": "It's hard to tell, right?", "start": 684.001, "duration": 1.139}, {"text": "And as a result,\nthis security game", "start": 685.14, "duration": 2.56}, {"text": "is often not so\nclear cut as to what", "start": 687.7, "duration": 2.33}, {"text": "the right set of\nassumptions to make is.", "start": 690.03, "duration": 2.854}, {"text": "And it's only after the\nfact that you often realize,", "start": 692.884, "duration": 2.166}, {"text": "well should have\nthought of that.", "start": 695.05, "duration": 1.95}, {"text": "All right.", "start": 699.52, "duration": 1.2}, {"text": "And sort of, as a\nresult, this is very much", "start": 700.72, "duration": 1.98}, {"text": "an iterative process.", "start": 702.7, "duration": 1.47}, {"text": "And the thing you end up\nrealizing at every iteration", "start": 704.17, "duration": 2.79}, {"text": "is, well, here's the\nweakest link into my system.", "start": 706.96, "duration": 2.172}, {"text": "Maybe I got the\nthreat model wrong.", "start": 709.132, "duration": 1.458}, {"text": "Maybe my mechanism had some bugs\nin it because it's a software", "start": 710.59, "duration": 2.7}, {"text": "and it's going to\nbe large systems.", "start": 713.29, "duration": 1.83}, {"text": "They'll have lots of bugs.", "start": 715.12, "duration": 1.89}, {"text": "And you sort of fix them up.", "start": 717.01, "duration": 1.48}, {"text": "You change your\nthreat model a bit.", "start": 718.49, "duration": 1.46}, {"text": "And you iterate and try\nto design a new system,", "start": 719.95, "duration": 2.95}, {"text": "and hopefully,\nmake things better.", "start": 722.9, "duration": 3.82}, {"text": "So one possible interpretation\nof this class-- well,", "start": 726.72, "duration": 3.92}, {"text": "one danger-- is that you come\naway thinking, man, everything", "start": 730.64, "duration": 3.72}, {"text": "is just broken.", "start": 734.36, "duration": 0.71}, {"text": "Nothing works.", "start": 735.07, "duration": 0.71}, {"text": "We should just give up\nand stop using computers.", "start": 735.78, "duration": 2.61}, {"text": "And this is one\npossible interpretation.", "start": 738.39, "duration": 3.07}, {"text": "But it's probably not\nquite the right one.", "start": 741.46, "duration": 2.292}, {"text": "The reason this is\ngoing to come up", "start": 743.752, "duration": 1.458}, {"text": "or you're going\nto think this way", "start": 745.21, "duration": 1.375}, {"text": "is because,\nthroughout this class,", "start": 746.585, "duration": 1.475}, {"text": "we're going to look at all\nthese different systems,", "start": 748.06, "duration": 1.79}, {"text": "and we're going to sort\nof push them to the edge.", "start": 749.85, "duration": 1.42}, {"text": "We're going to see, OK,\nwell, what if we do this?", "start": 751.27, "duration": 1.83}, {"text": "Is it going to break?", "start": 753.1, "duration": 0.59}, {"text": "What if we do that?", "start": 753.69, "duration": 0.63}, {"text": "Is it going to break then?", "start": 754.32, "duration": 1.199}, {"text": "And inevitably,\nevery system is going", "start": 755.519, "duration": 1.541}, {"text": "to have some sort\nof a breaking point.", "start": 757.06, "duration": 1.583}, {"text": "And we'll figure out, oh hey.", "start": 758.643, "duration": 1.217}, {"text": "This system, we can break\nit in if we push this way.", "start": 759.86, "duration": 2.56}, {"text": "And this system doesn't work\nunder these set of assumptions.", "start": 762.42, "duration": 3.84}, {"text": "And it's inevitable\nthat every system", "start": 766.26, "duration": 1.935}, {"text": "will have a breaking point.", "start": 768.195, "duration": 1.125}, {"text": "But that doesn't mean that\nevery system is worthless.", "start": 769.32, "duration": 2.06}, {"text": "It just means you\nhave to know when", "start": 771.38, "duration": 1.54}, {"text": "to use every system design.", "start": 772.92, "duration": 2.06}, {"text": "And it's sort of useful to\ndo this pushing exercise", "start": 774.98, "duration": 2.38}, {"text": "to find the\nweaknesses so that you", "start": 777.36, "duration": 1.77}, {"text": "know when certain ideas work,\nwhen certain ideas are not", "start": 779.13, "duration": 4.4}, {"text": "applicable.", "start": 783.53, "duration": 1.41}, {"text": "And in reality, this is a little\nmore fuzzy boundary, right?", "start": 784.94, "duration": 4.25}, {"text": "The more secure you make\nyour system, the less likely", "start": 789.19, "duration": 2.47}, {"text": "you'll have some embarrassing\nstory on the front page of New", "start": 791.66, "duration": 3.25}, {"text": "York Times saying,\nyour start up company", "start": 794.91, "duration": 2.09}, {"text": "leaked a million people's\nsocial security numbers.", "start": 797.0, "duration": 4.46}, {"text": "And then you pay less money\nto recover from that disaster.", "start": 801.46, "duration": 5.31}, {"text": "And I guess one sort of actually\npositive note on security", "start": 806.77, "duration": 2.88}, {"text": "is that, in many ways, security\nenables cool things that you", "start": 809.65, "duration": 3.58}, {"text": "couldn't do before, because\nsecurity, especially", "start": 813.23, "duration": 3.22}, {"text": "mechanisms, that\nallow us to protect", "start": 816.45, "duration": 3.72}, {"text": "against certain classes of\nattacks, are pretty powerful.", "start": 820.17, "duration": 2.97}, {"text": "As one example, the browser used\nto be fairly boring in terms", "start": 823.14, "duration": 3.372}, {"text": "of what you could do with it.", "start": 826.512, "duration": 1.208}, {"text": "You could just view\nweb pages, maybe", "start": 827.72, "duration": 1.55}, {"text": "run some JavaScript code in it.", "start": 829.27, "duration": 1.66}, {"text": "But now there's all\nthese cool mechanisms", "start": 830.93, "duration": 1.78}, {"text": "we'll learn about\nin a couple of weeks", "start": 832.71, "duration": 1.71}, {"text": "that allow you to run arbitrary\nx86 native code in the web", "start": 834.42, "duration": 3.39}, {"text": "browser and make\nsure it doesn't do", "start": 837.81, "duration": 1.72}, {"text": "anything funny to your machine.", "start": 839.53, "duration": 1.73}, {"text": "And it can send-- and\nthere's a technique or system", "start": 841.26, "duration": 2.894}, {"text": "called Native Client\nfrom Google that actually", "start": 844.154, "duration": 1.916}, {"text": "allows us to do this securely.", "start": 846.07, "duration": 2.13}, {"text": "And before, in order to run some\nnative game on your machine,", "start": 848.2, "duration": 2.927}, {"text": "you'd have download and install\nit, click on lot's of dialogue", "start": 851.127, "duration": 2.583}, {"text": "boxes, say yes, I allow this.", "start": 853.71, "duration": 1.961}, {"text": "But now, you can just\nrun it in a browser,", "start": 855.671, "duration": 1.749}, {"text": "no clicking required.", "start": 857.42, "duration": 1.18}, {"text": "It just runs.", "start": 858.6, "duration": 0.91}, {"text": "And the reason it's\nso easy and powerful", "start": 859.51, "duration": 2.69}, {"text": "is that our security mechanism\ncan sandbox this program", "start": 862.2, "duration": 3.79}, {"text": "and not have to assume anything\nabout the user choosing", "start": 865.99, "duration": 3.6}, {"text": "the right game and not\nsome malicious game to play", "start": 869.59, "duration": 2.14}, {"text": "in their computer, or\nsome other program to run.", "start": 871.73, "duration": 2.73}, {"text": "So in many ways, good\nsecurity mechanisms", "start": 874.46, "duration": 1.81}, {"text": "are going to enable constructing\ncool new systems that weren't", "start": 876.27, "duration": 4.34}, {"text": "possible to construct before.", "start": 880.61, "duration": 2.941}, {"text": "All right.", "start": 883.551, "duration": 0.499}, {"text": "Make sense?", "start": 884.05, "duration": 1.37}, {"text": "Any questions about this story?", "start": 885.42, "duration": 5.065}, {"text": "All right.", "start": 890.485, "duration": 1.405}, {"text": "So I guess in the\nrest of the lecture,", "start": 891.89, "duration": 2.26}, {"text": "I want to go through a bunch\nof different examples of how", "start": 894.15, "duration": 4.17}, {"text": "security goes wrong.", "start": 898.32, "duration": 1.68}, {"text": "So, so far, we've seen\nhow you can think of it.", "start": 900.0, "duration": 2.68}, {"text": "But inevitably, it's\nuseful to see examples", "start": 902.68, "duration": 3.11}, {"text": "of what not to do so that you\ncan have a better mindset when", "start": 905.79, "duration": 4.44}, {"text": "you're approaching\nsecurity problems.", "start": 910.23, "duration": 2.24}, {"text": "And in this sort of breakdown\nof a security system,", "start": 912.47, "duration": 4.116}, {"text": "pretty much every one of\nthese three things goes wrong.", "start": 916.586, "duration": 2.356}, {"text": "In practice, people\nget the policy wrong,", "start": 918.942, "duration": 1.708}, {"text": "people get the\nthreat model wrong,", "start": 920.65, "duration": 1.416}, {"text": "and people get the\nmechanism wrong.", "start": 922.066, "duration": 1.514}, {"text": "And let's, I guess, start\nwith policies and examples", "start": 923.58, "duration": 3.7}, {"text": "of how you can screw\nup a system's policy.", "start": 927.28, "duration": 4.14}, {"text": "Maybe the cleanest or sort\nof simplest example of this", "start": 931.42, "duration": 3.8}, {"text": "are account recovery questions.", "start": 935.22, "duration": 3.13}, {"text": "So typically, when you\nsign into a website,", "start": 941.81, "duration": 4.472}, {"text": "you provide a password.", "start": 946.282, "duration": 0.958}, {"text": "But what happens if\nyou lose your password?", "start": 947.24, "duration": 2.4}, {"text": "Some sites will send\nyou email if you", "start": 949.64, "duration": 2.93}, {"text": "lose your password with a\nlink to reset your password.", "start": 952.57, "duration": 2.62}, {"text": "So it's easy enough, if you\nhave another email address.", "start": 955.19, "duration": 2.291}, {"text": "But what if this is\nyour email provider?", "start": 957.481, "duration": 1.919}, {"text": "So at least, several\nyears ago, Yahoo", "start": 959.4, "duration": 4.3}, {"text": "hosted email, webmail, for\nanyone on the internet.", "start": 963.7, "duration": 2.96}, {"text": "And when you forgot\nyour Yahoo password,", "start": 966.66, "duration": 1.912}, {"text": "they couldn't really\nsend you email", "start": 968.572, "duration": 1.458}, {"text": "because you couldn't get it.", "start": 970.03, "duration": 1.58}, {"text": "So instead, they\nhad you register", "start": 971.61, "duration": 1.81}, {"text": "a couple of questions with them\nthat hopefully only you know.", "start": 973.42, "duration": 2.897}, {"text": "And if you forget your password,\nyou can click on a link", "start": 976.317, "duration": 2.333}, {"text": "and say, well, here's the\nanswers to my questions.", "start": 978.65, "duration": 2.48}, {"text": "Let me have my password again.", "start": 981.13, "duration": 2.35}, {"text": "And what turns out to\nbe the case is-- well,", "start": 983.48, "duration": 2.88}, {"text": "some people failed to realize is\nthat this changes your policy,", "start": 986.36, "duration": 4.07}, {"text": "because before, the\npolicy of the system", "start": 990.43, "duration": 2.37}, {"text": "is people that can log\nin are the people that", "start": 992.8, "duration": 2.48}, {"text": "know the password.", "start": 995.28, "duration": 1.651}, {"text": "And when you introduce\nthese recovery questions,", "start": 996.931, "duration": 1.999}, {"text": "the policy becomes,\nwell, you can log in", "start": 998.93, "duration": 1.666}, {"text": "if you know either the password\nor those security questions.", "start": 1000.596, "duration": 3.784}, {"text": "So it strictly weakens the\nsecurity of your system.", "start": 1004.38, "duration": 2.621}, {"text": "And many people have actually\ntaken advantage of this.", "start": 1007.001, "duration": 2.249}, {"text": "One sort of well known example\nis, I think a couple years ago,", "start": 1009.25, "duration": 4.16}, {"text": "Sarah Palin had an\nemail account at Yahoo.", "start": 1013.41, "duration": 2.41}, {"text": "And her recovery questions\nwere things like, well,", "start": 1015.82, "duration": 3.57}, {"text": "where'd you go to school?", "start": 1019.39, "duration": 1.27}, {"text": "What was your friend's name?", "start": 1020.66, "duration": 2.746}, {"text": "What's your birthday?", "start": 1023.406, "duration": 0.874}, {"text": "Et cetera.", "start": 1024.28, "duration": 0.68}, {"text": "These were all things written\non her Wikipedia page.", "start": 1024.96, "duration": 2.47}, {"text": "And as a result, someone\ncan quite easily,", "start": 1027.43, "duration": 2.26}, {"text": "and someone did, actually, get\ninto her Yahoo email account", "start": 1029.69, "duration": 3.149}, {"text": "just by looking up on Wikipedia\nwhat her high school was", "start": 1032.839, "duration": 2.48}, {"text": "and what her birthday was.", "start": 1035.319, "duration": 2.06}, {"text": "So you really have\nto think carefully", "start": 1037.379, "duration": 1.541}, {"text": "about the implications\nof different security", "start": 1038.92, "duration": 2.97}, {"text": "policies you're making here.", "start": 1041.89, "duration": 2.929}, {"text": "Perhaps a more intricate and,\nmaybe, interesting example,", "start": 1044.819, "duration": 4.401}, {"text": "is what happens when you have\nmultiple systems that start", "start": 1049.22, "duration": 3.5}, {"text": "interacting with one another.", "start": 1052.72, "duration": 2.03}, {"text": "So there's this nice story\nabout a guy called Mat Honan.", "start": 1054.75, "duration": 4.59}, {"text": "Maybe you read this\nstory a year or two ago.", "start": 1059.34, "duration": 3.32}, {"text": "He's a editor at this\nwired.com magazine.", "start": 1062.66, "duration": 3.24}, {"text": "And had a bit of a problem.", "start": 1065.9, "duration": 2.25}, {"text": "Someone basically got\ninto his Gmail account", "start": 1068.15, "duration": 2.4}, {"text": "and did lots of bad things.", "start": 1070.55, "duration": 1.79}, {"text": "But how did they do it, right?", "start": 1072.34, "duration": 1.25}, {"text": "So it's kind of interesting.", "start": 1073.59, "duration": 1.28}, {"text": "So all parties in\nthis story seem", "start": 1074.87, "duration": 2.77}, {"text": "to be doing reasonable things.", "start": 1077.64, "duration": 1.25}, {"text": "But we'll see how they add\nup to something unfortunate.", "start": 1078.89, "duration": 2.291}, {"text": "So we have Gmail.", "start": 1081.181, "duration": 1.349}, {"text": "And Gmail lets you\nreset your password", "start": 1082.53, "duration": 4.05}, {"text": "if you forget, as do pretty\nmuch every other system.", "start": 1086.58, "duration": 3.12}, {"text": "And the way you do\na reset at Gmail", "start": 1089.7, "duration": 3.97}, {"text": "is you send them\na reset request.", "start": 1093.67, "duration": 2.42}, {"text": "And what they say\nis, well, you weren't", "start": 1096.09, "duration": 2.94}, {"text": "going to do this recovery\nquestions, at least", "start": 1099.03, "duration": 2.39}, {"text": "not for this guy.", "start": 1101.42, "duration": 0.886}, {"text": "What they do is they send you a\nrecovery link to a backup email", "start": 1102.306, "duration": 2.624}, {"text": "address, or some other\nemail address that you have.", "start": 1104.93, "duration": 2.2}, {"text": "And helpful, they actually\nprint the email address for you.", "start": 1107.13, "duration": 2.458}, {"text": "So for this guy's\naccount, someone", "start": 1109.588, "duration": 1.551}, {"text": "went and asked Gmail\nto reset the password.", "start": 1111.139, "duration": 1.791}, {"text": "And they said, well, yeah.", "start": 1112.93, "duration": 0.9}, {"text": "Sure.", "start": 1113.83, "duration": 0.5}, {"text": "We just sent the recovery\nlink to this email,", "start": 1114.33, "duration": 2.75}, {"text": "foo@me.com, which was\nsome Apple email service.", "start": 1117.08, "duration": 5.009}, {"text": "OK, but the bad guy doesn't\nhave access to me.com, either.", "start": 1122.089, "duration": 2.416}, {"text": "But they want to get\nthis password reset", "start": 1124.505, "duration": 2.355}, {"text": "link to get access to Gmail.", "start": 1126.86, "duration": 1.93}, {"text": "Well, the way things\nworked was that,", "start": 1128.79, "duration": 2.07}, {"text": "in Apple's case,\nthis me.com site,", "start": 1130.86, "duration": 5.12}, {"text": "allowed you to actually reset\nyour password if you know", "start": 1135.98, "duration": 4.85}, {"text": "your billing address and the\nlast four digits of your credit", "start": 1140.83, "duration": 2.75}, {"text": "card number.", "start": 1143.58, "duration": 1.532}, {"text": "So it's still not clear how\nyou're going to get this", "start": 1145.112, "duration": 2.188}, {"text": "guy's-- well, home address,\nmaybe you could look it up", "start": 1147.3, "duration": 3.291}, {"text": "somewhere.", "start": 1150.591, "duration": 0.499}, {"text": "This guy was a well\nknown person at the time.", "start": 1151.09, "duration": 1.891}, {"text": "But where do you get the last\nfour digits of his credit card", "start": 1152.981, "duration": 2.499}, {"text": "number?", "start": 1155.48, "duration": 1.16}, {"text": "Well, not clear, but\nlet's keep going further.", "start": 1156.64, "duration": 4.537}, {"text": "So you need to send these\nthings to me.com to get access", "start": 1161.177, "duration": 2.333}, {"text": "to his email account there.", "start": 1163.51, "duration": 2.142}, {"text": "Well, it turns out this guy\nhad an account at Amazon, which", "start": 1165.652, "duration": 2.458}, {"text": "is another party in this story.", "start": 1168.11, "duration": 3.14}, {"text": "Amazon really wants\nyou to buy things.", "start": 1171.25, "duration": 3.21}, {"text": "And as a result, they actually\nhave a fairly elaborate account", "start": 1174.46, "duration": 3.57}, {"text": "management system.", "start": 1178.03, "duration": 1.74}, {"text": "And in particular, because they\nreally want you to buy stuff,", "start": 1179.77, "duration": 3.18}, {"text": "they don't require\nyou to sign in", "start": 1182.95, "duration": 1.54}, {"text": "in order to purchase some\nitem with a credit card.", "start": 1184.49, "duration": 3.18}, {"text": "So I can actually go on Amazon,\nor at least at the time,", "start": 1187.67, "duration": 3.04}, {"text": "I was able to go on Amazon\nand say, well, I'm this user.", "start": 1190.71, "duration": 2.69}, {"text": "And I want to buy this\npack of toothbrushes.", "start": 1193.4, "duration": 4.09}, {"text": "And if I wanted to use\nthe saved credit card", "start": 1197.49, "duration": 2.65}, {"text": "number in the guy's account, I\nshouldn't be able to do this.", "start": 1200.14, "duration": 2.5}, {"text": "But if I just was providing a\nnew credit card, what Amazon", "start": 1202.64, "duration": 3.1}, {"text": "would do is, they can\nactually add a new credit", "start": 1205.74, "duration": 2.54}, {"text": "card to some guy's account.", "start": 1208.28, "duration": 5.22}, {"text": "So that seems not\ntoo bad, right?", "start": 1213.5, "duration": 2.0}, {"text": "I'm basically\nordering toothbrushes", "start": 1215.5, "duration": 1.56}, {"text": "through one of your\nAmazon accounts.", "start": 1217.06, "duration": 1.779}, {"text": "But it's not your\ncredit card anyway.", "start": 1218.839, "duration": 1.541}, {"text": "It's just my credit\ncard number being used.", "start": 1220.38, "duration": 2.0}, {"text": "So it's not clear how\nthings go wrong yet.", "start": 1222.38, "duration": 1.84}, {"text": "But Amazon had\nanother interface.", "start": 1224.22, "duration": 2.41}, {"text": "All these are\ncomplicated systems.", "start": 1226.63, "duration": 1.8}, {"text": "And Amazon had an interface\nfor password reset.", "start": 1228.43, "duration": 3.27}, {"text": "And in order to reset\na password in Amazon,", "start": 1231.7, "duration": 2.85}, {"text": "what you had to provide is just\none of the user's credit card", "start": 1234.55, "duration": 3.68}, {"text": "numbers.", "start": 1238.23, "duration": 1.33}, {"text": "So I can order stuff and\nadd a credit card number", "start": 1239.56, "duration": 2.864}, {"text": "to your account.", "start": 1242.424, "duration": 0.666}, {"text": "And then I can say, hey, I\nwant to reset my password.", "start": 1243.09, "duration": 2.208}, {"text": "This is one of my\ncredit card numbers.", "start": 1245.298, "duration": 1.622}, {"text": "And this, in fact, worked.", "start": 1246.92, "duration": 1.98}, {"text": "So this is where the bad guy\ngot a hold of this guy's, Mat's,", "start": 1248.9, "duration": 4.69}, {"text": "Amazon account.", "start": 1253.59, "duration": 1.33}, {"text": "But OK.", "start": 1254.92, "duration": 0.5}, {"text": "How do you fish out\nthe credit card number", "start": 1255.42, "duration": 1.84}, {"text": "for resetting Apple's site?", "start": 1257.26, "duration": 2.09}, {"text": "Well, Amazon was\nactually very careful.", "start": 1259.35, "duration": 1.66}, {"text": "Even if you break into\nsomeone's Amazon account,", "start": 1261.01, "duration": 2.0}, {"text": "it will not print you\nthe saved credit card", "start": 1263.01, "duration": 2.61}, {"text": "numbers from that person.", "start": 1265.62, "duration": 2.08}, {"text": "But it will show the\nlast four digits.", "start": 1267.7, "duration": 1.584}, {"text": "Just so you know which credit\ncard you're talking about.", "start": 1269.284, "duration": 2.332}, {"text": "So you can list all the credit\ncards, other than the one", "start": 1271.616, "duration": 2.604}, {"text": "you added.", "start": 1274.22, "duration": 0.71}, {"text": "You can then go and\nbreak into me.com.", "start": 1274.93, "duration": 1.84}, {"text": "You can click on this\nlink and get access", "start": 1276.77, "duration": 2.85}, {"text": "to the guy's Gmail account.", "start": 1279.62, "duration": 1.661}, {"text": "This is all very subtle stuff.", "start": 1281.281, "duration": 1.249}, {"text": "And in isolation,\neach system seems", "start": 1282.53, "duration": 1.85}, {"text": "to be doing somewhat\nsensible things.", "start": 1284.38, "duration": 2.5}, {"text": "But it's actually\nquite hard to reason", "start": 1286.88, "duration": 1.71}, {"text": "about these vulnerabilities\nand weaknesses", "start": 1288.59, "duration": 2.97}, {"text": "unless you have this whole\npicture explained to you", "start": 1291.56, "duration": 2.92}, {"text": "and you've sort of put\nall the pieces together.", "start": 1294.48, "duration": 2.9}, {"text": "So this is actually\nfairly tricky stuff.", "start": 1297.38, "duration": 3.93}, {"text": "And unfortunately, well,\nmuch like for every one", "start": 1301.31, "duration": 3.702}, {"text": "of these three categories, the\nanswer for how to avoid this", "start": 1305.012, "duration": 2.458}, {"text": "is often think hard\nand be careful.", "start": 1307.47, "duration": 3.16}, {"text": "I guess the one general plan\nis, be conservative in terms", "start": 1310.63, "duration": 3.7}, {"text": "of what you set\nyour policy to be,", "start": 1314.33, "duration": 3.63}, {"text": "to maybe not depend on things\nother sites might reveal.", "start": 1317.96, "duration": 3.58}, {"text": "So well, I'm not sure if any\nreally great advice would", "start": 1321.54, "duration": 4.105}, {"text": "have prevented this problem.", "start": 1325.645, "duration": 1.297}, {"text": "But now you know.", "start": 1326.942, "duration": 0.708}, {"text": "And now you'll make\nother mistakes.", "start": 1327.65, "duration": 3.53}, {"text": "There's many other\nexamples of policies", "start": 1331.18, "duration": 2.79}, {"text": "going wrong and allowing a\nsystem to be compromised.", "start": 1333.97, "duration": 4.607}, {"text": "That's interesting enough.", "start": 1338.577, "duration": 1.083}, {"text": "But let's look at how people\nmight screw up threat models.", "start": 1339.66, "duration": 2.89}, {"text": "So let me turn off\nthis blue square.", "start": 1342.55, "duration": 5.47}, {"text": "OK.", "start": 1348.02, "duration": 0.5}, {"text": "So what are examples of\nthreat models that go wrong?", "start": 1348.52, "duration": 7.54}, {"text": "Well, probably a big one in\npractice is human factors.", "start": 1356.06, "duration": 6.35}, {"text": "So we often make\nassumptions about what", "start": 1362.41, "duration": 3.56}, {"text": "people will do in\na system, like they", "start": 1365.97, "duration": 3.07}, {"text": "will pick a good,\nstrong password,", "start": 1369.04, "duration": 2.11}, {"text": "or they will not click\non random websites", "start": 1371.15, "duration": 2.77}, {"text": "that they get through email\nand enter their password there.", "start": 1373.92, "duration": 2.88}, {"text": "So these are-- well, as\nyou probably suspect,", "start": 1376.8, "duration": 2.794}, {"text": "and in practice,\nhappens to be the case,", "start": 1379.594, "duration": 1.666}, {"text": "these are not good\nassumptions in all cases.", "start": 1381.26, "duration": 2.54}, {"text": "And people pick bad passwords.", "start": 1383.8, "duration": 2.22}, {"text": "And people will click\non random links.", "start": 1386.02, "duration": 2.49}, {"text": "And people will\nenter their password", "start": 1388.51, "duration": 1.84}, {"text": "on sites that are actually\nnot the right site at all.", "start": 1390.35, "duration": 3.16}, {"text": "And they will not be\npaying a lot of attention.", "start": 1393.51, "duration": 3.48}, {"text": "So you probably don't want\nto have threat models that", "start": 1396.99, "duration": 2.97}, {"text": "make very strong\nassumptions about what", "start": 1399.96, "duration": 1.64}, {"text": "humans will do because\ninevitably, something", "start": 1401.6, "duration": 1.833}, {"text": "will go wrong.", "start": 1403.433, "duration": 2.177}, {"text": "Make sense?", "start": 1405.61, "duration": 1.11}, {"text": "Any questions?", "start": 1406.72, "duration": 2.5}, {"text": "All right.", "start": 1409.22, "duration": 0.63}, {"text": "Another sort of good thing\nto watch out in threat models", "start": 1409.85, "duration": 2.84}, {"text": "is that they sometimes\nchange over time.", "start": 1412.69, "duration": 3.17}, {"text": "Or whether something is\na good assumption or not", "start": 1415.86, "duration": 2.3}, {"text": "changes over time.", "start": 1418.16, "duration": 2.0}, {"text": "One example of this is actually\nat MIT in the mid '90s-- mid", "start": 1420.16, "duration": 5.26}, {"text": "'80s, actually--\nProject Athena developed", "start": 1425.42, "duration": 2.66}, {"text": "this system called Kerberos.", "start": 1428.08, "duration": 1.17}, {"text": "And we'll read about this in a\ncouple of weeks in this class.", "start": 1429.25, "duration": 3.58}, {"text": "And at the time, they were sort\nof figuring out, well, Kerberos", "start": 1432.83, "duration": 2.81}, {"text": "is going to be based\non cryptography.", "start": 1435.64, "duration": 1.541}, {"text": "So we need to pick\nsome size keys", "start": 1437.181, "duration": 2.15}, {"text": "to make sure they're\nnot going to be", "start": 1439.331, "duration": 1.499}, {"text": "guessed by arbitrary people.", "start": 1440.83, "duration": 1.74}, {"text": "And they said, OK.", "start": 1442.57, "duration": 0.75}, {"text": "Well you know, 56-bit\nkeys, at the time,", "start": 1443.32, "duration": 2.8}, {"text": "for this cypher called DES,\nseemed like a plausible size.", "start": 1446.12, "duration": 3.84}, {"text": "Maybe not great, but certainly\nnot entirely unreasonable.", "start": 1449.96, "duration": 3.74}, {"text": "And this was in the mid '80s.", "start": 1453.7, "duration": 1.297}, {"text": "But then you know, this system\ngot popular and got used a lot.", "start": 1454.997, "duration": 2.583}, {"text": "MIT still uses it.", "start": 1457.58, "duration": 1.82}, {"text": "And they never really went\nback to seriously revisit", "start": 1459.4, "duration": 3.0}, {"text": "this assumption.", "start": 1462.4, "duration": 1.5}, {"text": "And then, a couple years ago,\na group of 6.858 students", "start": 1463.9, "duration": 3.344}, {"text": "figured out that actually, yeah,\nyou can just break this, right?", "start": 1467.244, "duration": 2.666}, {"text": "It's easy enough to enumerate\nall the 256 keys these days.", "start": 1469.91, "duration": 4.57}, {"text": "Computers are so fast,\nyou can just do it.", "start": 1474.48, "duration": 2.09}, {"text": "And as a result,\nthey were able to,", "start": 1476.57, "duration": 2.21}, {"text": "with the help of some\nhardware from a particular web", "start": 1478.78, "duration": 3.839}, {"text": "service-- we'll have some links\nthe lecture notes-- they were", "start": 1482.619, "duration": 2.541}, {"text": "able to get, basically, anyone's\nKerberos account key in roughly", "start": 1485.16, "duration": 5.01}, {"text": "a day.", "start": 1490.17, "duration": 0.93}, {"text": "And so this assumption\nwas good in the mid 1980s.", "start": 1491.1, "duration": 3.93}, {"text": "No longer a good\nassumption today.", "start": 1495.03, "duration": 2.18}, {"text": "So you really have to\nmake sure your assumptions", "start": 1497.21, "duration": 2.64}, {"text": "sort of keep up with the times.", "start": 1499.85, "duration": 2.37}, {"text": "Maybe a more timely example\nis, if your adversary--", "start": 1502.22, "duration": 3.92}, {"text": "or if you're worried\nabout government attacks,", "start": 1506.14, "duration": 2.84}, {"text": "you might realize that you\nshouldn't trust hardware even", "start": 1508.98, "duration": 3.391}, {"text": "these days, right?", "start": 1512.371, "duration": 0.749}, {"text": "There was all these\nrevelations about what", "start": 1513.12, "duration": 1.75}, {"text": "the NSA is capable of doing.", "start": 1514.87, "duration": 1.99}, {"text": "And they have\nhardware back doors", "start": 1516.86, "duration": 1.73}, {"text": "that they can insert\ninto computers.", "start": 1518.59, "duration": 2.332}, {"text": "And maybe up until a couple\nyears ago, well, who knows?", "start": 1520.922, "duration": 2.522}, {"text": "I guess we didn't\nknow about this stuff.", "start": 1523.444, "duration": 1.666}, {"text": "So maybe it was a\nreasonable assumption", "start": 1525.11, "duration": 2.25}, {"text": "to assume your\nlaptop is not going", "start": 1527.36, "duration": 1.91}, {"text": "to be compromised physically,\nthe hardware itself.", "start": 1529.27, "duration": 2.692}, {"text": "But now you know.", "start": 1531.962, "duration": 0.708}, {"text": "Actually, if you're worried\nabout the government", "start": 1532.67, "duration": 2.0}, {"text": "being after you, you probably\nhave a much harder problem", "start": 1534.67, "duration": 2.52}, {"text": "to deal with because\nyour laptop might", "start": 1537.19, "duration": 1.819}, {"text": "be compromised\nphysically, regardless", "start": 1539.009, "duration": 1.541}, {"text": "of what you install in it.", "start": 1540.55, "duration": 2.071}, {"text": "So we really have to be\ncareful with your threat model", "start": 1542.621, "duration": 2.249}, {"text": "and really sort of\nbalance it against who", "start": 1544.87, "duration": 1.95}, {"text": "you think is out to get you.", "start": 1546.82, "duration": 1.416}, {"text": "I think it's going to be a very\nexpensive proposition if you're", "start": 1548.236, "duration": 2.624}, {"text": "going to try to protect\nyourself from the NSA, really.", "start": 1550.86, "duration": 2.442}, {"text": "On the other hand, if you're\njust protecting yourself", "start": 1553.302, "duration": 2.208}, {"text": "from random other\nstudents that are,", "start": 1555.51, "duration": 2.262}, {"text": "I don't know, snooping around\nin your Athena home directory", "start": 1557.772, "duration": 2.458}, {"text": "or whatnot, maybe you\ndon't have to worry", "start": 1560.23, "duration": 1.708}, {"text": "about this stuff as much.", "start": 1561.938, "duration": 1.272}, {"text": "So it's really a balancing game\nand picking the right threat", "start": 1563.21, "duration": 3.11}, {"text": "model.", "start": 1566.32, "duration": 2.29}, {"text": "Another example of a bad threat\nmodel shows up in the way", "start": 1568.61, "duration": 6.76}, {"text": "secure websites these days\ncheck certificates of a website", "start": 1575.37, "duration": 2.937}, {"text": "that you're connecting to.", "start": 1578.307, "duration": 1.083}, {"text": "So in this SSL protocol or TLS,\nwhen you connect to a website", "start": 1579.39, "duration": 3.96}, {"text": "and it says HTTPS-- we'll\ntalk much more about this", "start": 1583.35, "duration": 2.51}, {"text": "in later lectures--\nbut what happens", "start": 1585.86, "duration": 2.85}, {"text": "is that the site you're\nconnecting to presents you", "start": 1588.71, "duration": 2.245}, {"text": "a certificate signed by one\nof the certificate authorities", "start": 1590.955, "duration": 3.845}, {"text": "out there that attests\nthat, yep, this key", "start": 1594.8, "duration": 2.65}, {"text": "belongs to Amazon.com.", "start": 1597.45, "duration": 2.46}, {"text": "And architecturally,\nthe sort of mistake", "start": 1599.91, "duration": 2.42}, {"text": "or the bad threat model\nthat these guys assumed", "start": 1602.33, "duration": 4.607}, {"text": "is that all these CAs are\ngoing to be trustworthy.", "start": 1606.937, "duration": 2.083}, {"text": "They will never make a mistake.", "start": 1609.02, "duration": 1.785}, {"text": "And in fact, the\nway system works", "start": 1610.805, "duration": 1.375}, {"text": "is that there's hundreds\nof these CAs out there.", "start": 1612.18, "duration": 2.53}, {"text": "The Indian postal authority,\nI think, has a CA.", "start": 1614.71, "duration": 3.68}, {"text": "The Chinese government has a CA.", "start": 1618.39, "duration": 2.03}, {"text": "Lots of entities are certificate\nauthorities in this design.", "start": 1620.42, "duration": 4.36}, {"text": "And any of them can\nmake a certificate", "start": 1624.78, "duration": 2.09}, {"text": "for any host name\nor a domain name.", "start": 1626.87, "duration": 2.797}, {"text": "And as a result, what\nhappens if you're a bad guy,", "start": 1629.667, "duration": 2.083}, {"text": "if you want to compromise Gmail\nor if you want to impersonate", "start": 1631.75, "duration": 3.0}, {"text": "Gmail's website, you\njust have to compromise", "start": 1634.75, "duration": 1.989}, {"text": "one of these\ncertificate authorities.", "start": 1636.739, "duration": 1.541}, {"text": "And it turns out the\nweakest link is probably", "start": 1638.28, "duration": 2.17}, {"text": "some poorly run authority\nsomewhere in some,", "start": 1640.45, "duration": 2.72}, {"text": "you know, not particularly\nup to date country.", "start": 1643.17, "duration": 3.56}, {"text": "Who knows, right?", "start": 1646.73, "duration": 1.03}, {"text": "And as a result, it's\nprobably a bad assumption", "start": 1647.76, "duration": 3.41}, {"text": "to build a system--\nor it's a bad idea", "start": 1651.17, "duration": 2.046}, {"text": "to build a system\naround the assumption", "start": 1653.216, "duration": 1.624}, {"text": "that you'll manage to\nkeep all 300 certificate", "start": 1654.84, "duration": 4.03}, {"text": "authorities spread out around\nthe globe perfectly secure.", "start": 1658.87, "duration": 3.55}, {"text": "But yet, that's the\nassumption underpinning", "start": 1662.42, "duration": 2.14}, {"text": "the security mechanism of\ntoday's SSL protocol used", "start": 1664.56, "duration": 4.53}, {"text": "by web browsers.", "start": 1669.09, "duration": 2.81}, {"text": "And there's sort of many\nother, I guess, examples", "start": 1671.9, "duration": 4.14}, {"text": "that are things you might\nnot have thought of.", "start": 1676.04, "duration": 2.47}, {"text": "Another sort of amusing example\nfrom the 1980s was DARPA.", "start": 1678.51, "duration": 5.57}, {"text": "This defense\nagency, at the time,", "start": 1684.08, "duration": 3.01}, {"text": "really wanted to build\nsecure operating systems.", "start": 1687.09, "duration": 3.22}, {"text": "And they actually\nwent so far as to get", "start": 1690.31, "duration": 3.336}, {"text": "a bunch of universities\nand researchers", "start": 1693.646, "duration": 1.624}, {"text": "to build secure OS prototypes.", "start": 1695.27, "duration": 2.57}, {"text": "And then they actually\ngot a red team,", "start": 1697.84, "duration": 1.68}, {"text": "like a team of bad guys\npretending to be the attackers,", "start": 1699.52, "duration": 3.996}, {"text": "and told them, well, go break\ninto these secure operating", "start": 1703.516, "duration": 2.374}, {"text": "systems any way you can.", "start": 1705.89, "duration": 1.04}, {"text": "We actually want to\nknow, is it secure?", "start": 1706.93, "duration": 2.37}, {"text": "And it's kind of amusing,\nsome of the surprising ways", "start": 1709.3, "duration": 3.022}, {"text": "they compromised the systems.", "start": 1712.322, "duration": 1.208}, {"text": "One was that there\nwas this OS research", "start": 1713.53, "duration": 3.43}, {"text": "team that seemed to have\na perfectly secure OS,", "start": 1716.96, "duration": 2.112}, {"text": "but it got compromised.", "start": 1719.072, "duration": 0.958}, {"text": "And the way it happened is that\nthe server in which the source", "start": 1720.03, "duration": 2.91}, {"text": "code of the operating\nsystem was stored", "start": 1722.94, "duration": 1.25}, {"text": "was some development\nmachine in someone's office", "start": 1724.19, "duration": 1.88}, {"text": "that wasn't secured at all.", "start": 1726.07, "duration": 1.2}, {"text": "But that had all\nthe source code.", "start": 1727.27, "duration": 1.39}, {"text": "So the bad guys broke\ninto that server.", "start": 1728.66, "duration": 1.84}, {"text": "It was not protected very well.", "start": 1730.5, "duration": 1.35}, {"text": "Changed the source code\nof the operating system", "start": 1731.85, "duration": 1.49}, {"text": "to introduce a back door.", "start": 1733.34, "duration": 1.35}, {"text": "And then, when the researchers\nbuilt their operating systems,", "start": 1734.69, "duration": 3.274}, {"text": "well, it had this back door.", "start": 1737.964, "duration": 1.166}, {"text": "And the bad guys were\nable to break in.", "start": 1739.13, "duration": 1.625}, {"text": "So you really have to think\nabout all the possible sort", "start": 1740.755, "duration": 2.775}, {"text": "of assumptions\nyou're making about", "start": 1743.53, "duration": 2.27}, {"text": "where your software\nis coming from,", "start": 1745.8, "duration": 1.64}, {"text": "about how the bad\nguy can get in,", "start": 1747.44, "duration": 2.19}, {"text": "in order to make sure your\nsystem is really secure.", "start": 1749.63, "duration": 4.52}, {"text": "And there's many other examples\nin lecture notes, if you want.", "start": 1754.15, "duration": 4.01}, {"text": "So I'm using anecdotes.", "start": 1758.16, "duration": 1.08}, {"text": "You can page through those.", "start": 1759.24, "duration": 1.67}, {"text": "Probably the most pervasive\nproblem that shows up,", "start": 1763.75, "duration": 4.83}, {"text": "of course, is in\nmechanisms, though.", "start": 1768.58, "duration": 2.13}, {"text": "And in part, it's\nbecause mechanisms", "start": 1770.71, "duration": 2.58}, {"text": "are the most complicated\npart of the story.", "start": 1773.29, "duration": 2.2}, {"text": "It's the entirety of all\nthe software and hardware", "start": 1775.49, "duration": 3.735}, {"text": "and all that sort\nof system components", "start": 1779.225, "duration": 1.775}, {"text": "that make up what is trying to\nenforce your security policy.", "start": 1781.0, "duration": 4.4}, {"text": "And there's no end of ways\nin which mechanisms can fail.", "start": 1785.4, "duration": 4.56}, {"text": "And, partly as a result,\nmuch of this class", "start": 1789.96, "duration": 5.11}, {"text": "will focus pretty\nheavily on mechanisms", "start": 1795.07, "duration": 2.69}, {"text": "and how do you make\nmechanisms that are secure,", "start": 1797.76, "duration": 2.72}, {"text": "that provide correct enforcement\nof security policies.", "start": 1800.48, "duration": 3.97}, {"text": "And we'll talk about threat\nmodels and policies as well.", "start": 1804.45, "duration": 2.48}, {"text": "But turns out it's much\neasier to make clean,", "start": 1806.93, "duration": 5.08}, {"text": "sort of crisp statements\nabout mechanisms and ways", "start": 1812.01, "duration": 2.29}, {"text": "they work and don't work, as\nopposed to policies and threat", "start": 1814.3, "duration": 3.8}, {"text": "models which, really,\nyou have to figure out", "start": 1818.1, "duration": 2.32}, {"text": "how to fit them into\na particular context", "start": 1820.42, "duration": 1.77}, {"text": "where you're using a system.", "start": 1822.19, "duration": 2.79}, {"text": "So let's look at some examples\nof, I guess, mechanism bugs.", "start": 1824.98, "duration": 5.34}, {"text": "One that you might have heard\nin the last couple of days", "start": 1830.32, "duration": 2.96}, {"text": "was a problem in the security\nmechanism in Apple's cloud", "start": 1833.28, "duration": 5.1}, {"text": "infrastructure called iCloud.", "start": 1838.38, "duration": 1.23}, {"text": "Well actually, any one\nof you that has an iPhone", "start": 1842.82, "duration": 2.61}, {"text": "might be using this\niCloud service.", "start": 1845.43, "duration": 2.02}, {"text": "They basically provide\nstorage for files", "start": 1847.45, "duration": 2.24}, {"text": "and let you find your iPhone\nif you lose it, and probably", "start": 1849.69, "duration": 3.6}, {"text": "lots of other useful features.", "start": 1853.29, "duration": 2.16}, {"text": "And I think it's some relative\nof this me.com service", "start": 1855.45, "duration": 3.33}, {"text": "that was implicated in this\nscheme a couple years back.", "start": 1858.78, "duration": 4.37}, {"text": "And the problem that\nsomeone discovered", "start": 1863.15, "duration": 1.69}, {"text": "in this iCloud\nservice is that they", "start": 1864.84, "duration": 3.43}, {"text": "didn't enforce the same sort\nof mechanism at all interfaces.", "start": 1868.27, "duration": 3.69}, {"text": "OK, so what does\niCloud look like?", "start": 1871.96, "duration": 1.58}, {"text": "Well, it basically provides lots\nof services for the same sort", "start": 1873.54, "duration": 4.87}, {"text": "of set of accounts.", "start": 1878.41, "duration": 1.24}, {"text": "So maybe you have your\nfile storage on iCloud.", "start": 1879.65, "duration": 3.4}, {"text": "Maybe you have\nyour photo sharing.", "start": 1883.05, "duration": 3.037}, {"text": "Maybe you have other interfaces.", "start": 1886.087, "duration": 1.333}, {"text": "And one of the\ninterfaces into iCloud--", "start": 1887.42, "duration": 1.43}, {"text": "these are all sort\nof at different APIs", "start": 1888.85, "duration": 1.625}, {"text": "that they provide-- was this\nfeature to find my iPhone,", "start": 1890.475, "duration": 4.655}, {"text": "I think.", "start": 1895.13, "duration": 1.6}, {"text": "And all these interfaces\nwant to make sure", "start": 1896.73, "duration": 2.36}, {"text": "that you are the right user,\nyou're authenticated correctly.", "start": 1899.09, "duration": 3.49}, {"text": "And unfortunately,\nthe developers", "start": 1902.58, "duration": 2.47}, {"text": "all this iCloud system, you know\nit's a giant piece of software.", "start": 1905.05, "duration": 3.14}, {"text": "I'm sure lots of\ndevelopers worked on this.", "start": 1908.19, "duration": 3.12}, {"text": "But on this\nparticular interface,", "start": 1911.31, "duration": 1.76}, {"text": "the find my iPhone\ninterface, when", "start": 1913.07, "duration": 2.41}, {"text": "you tried to log in with\na username and password,", "start": 1915.48, "duration": 3.03}, {"text": "they didn't keep track of how\nmany times you tried to log in.", "start": 1918.51, "duration": 3.91}, {"text": "And the reason is important is\nthat, as I mentioned earlier,", "start": 1922.42, "duration": 3.22}, {"text": "humans are not that great\nat picking good passwords.", "start": 1925.64, "duration": 2.29}, {"text": "So actually building a system\nthat authenticates users", "start": 1927.93, "duration": 2.99}, {"text": "with passwords is pretty tricky.", "start": 1930.92, "duration": 1.57}, {"text": "We'll actually read a whole\npaper about this later on.", "start": 1932.49, "duration": 2.33}, {"text": "But one good strategy\nis, there's probably", "start": 1934.82, "duration": 4.47}, {"text": "a million passwords out\nthere that will account", "start": 1939.29, "duration": 2.88}, {"text": "for 50% percent of accounts.", "start": 1942.17, "duration": 2.01}, {"text": "So if you can guess,\nmake a million attempts", "start": 1944.18, "duration": 2.24}, {"text": "at someone's\naccount, then there's", "start": 1946.42, "duration": 2.48}, {"text": "a good chance you'll get\ntheir password because people", "start": 1948.9, "duration": 2.25}, {"text": "actually pick\npredictable passwords.", "start": 1951.15, "duration": 1.91}, {"text": "And one way to\ntry to defeat this", "start": 1953.06, "duration": 1.434}, {"text": "is to make sure that\nyour system doesn't", "start": 1954.494, "duration": 1.666}, {"text": "allow an arbitrary\nnumber of attempts", "start": 1956.16, "duration": 2.51}, {"text": "to log in to an account.", "start": 1958.67, "duration": 1.2}, {"text": "Maybe after three\nor 10 tries, you", "start": 1959.87, "duration": 2.35}, {"text": "should say, well,\nyou've had enough tries.", "start": 1962.22, "duration": 2.73}, {"text": "Time out.", "start": 1964.95, "duration": 0.79}, {"text": "You can try again in 10\nminutes or in an hour.", "start": 1965.74, "duration": 2.62}, {"text": "And this way you really\nslow down the attacker.", "start": 1968.36, "duration": 2.51}, {"text": "So they can only make a\nhandful of guesses a day,", "start": 1970.87, "duration": 3.59}, {"text": "instead of millions of guesses.", "start": 1974.46, "duration": 1.757}, {"text": "And as a result, even if\nyou have not the greatest", "start": 1976.217, "duration": 2.083}, {"text": "of passwords, it's going to\nbe pretty hard for someone", "start": 1978.3, "duration": 2.25}, {"text": "to guess it.", "start": 1980.55, "duration": 1.02}, {"text": "What would happen is that iCloud\nhad this password guessing", "start": 1981.57, "duration": 5.42}, {"text": "prevention or, basically,\nback off, on some interfaces,", "start": 1986.99, "duration": 3.22}, {"text": "like if you tried to log\nin through other interfaces", "start": 1990.21, "duration": 2.52}, {"text": "and you failed 10 times,\nit would say, well, sorry.", "start": 1992.73, "duration": 2.4}, {"text": "You have to wait\nuntil you try again.", "start": 1995.13, "duration": 2.02}, {"text": "But on this find my\niPhone interface,", "start": 1997.15, "duration": 1.56}, {"text": "they forget this check.", "start": 1998.71, "duration": 0.959}, {"text": "That's probably, you\nknow, some guy just", "start": 1999.669, "duration": 1.666}, {"text": "forgot to call this\nfunction on this API.", "start": 2001.335, "duration": 1.965}, {"text": "But the result is that, for\nthe same set of accounts,", "start": 2003.3, "duration": 3.567}, {"text": "a bad guy would be able\nto now guess your password", "start": 2006.867, "duration": 2.083}, {"text": "through this interface at\nmillions of attempts per day", "start": 2008.95, "duration": 3.94}, {"text": "easily, because this is just\nlimited up to how fast they", "start": 2012.89, "duration": 2.45}, {"text": "can send packets to\nthis iCloud thing.", "start": 2015.34, "duration": 2.112}, {"text": "And they can probably\nguess your password", "start": 2017.452, "duration": 1.708}, {"text": "with pretty good accuracy, or\nwith pretty good success rate,", "start": 2019.16, "duration": 4.8}, {"text": "after making many guesses.", "start": 2023.96, "duration": 2.82}, {"text": "And this led to some\nunfortunate break ins.", "start": 2026.78, "duration": 2.11}, {"text": "And people's confidential\ndata got stolen", "start": 2028.89, "duration": 2.77}, {"text": "from this iCloud service.", "start": 2031.66, "duration": 3.21}, {"text": "So this is sort of an example\nof you had the right policy.", "start": 2034.87, "duration": 4.751}, {"text": "Only the user and\nthe right password", "start": 2039.621, "duration": 1.499}, {"text": "would get you\naccess to the files.", "start": 2041.12, "duration": 1.512}, {"text": "You even had the\nright threat model", "start": 2042.632, "duration": 1.458}, {"text": "that, well, the bad guy might\nbe able to guess the password.", "start": 2044.09, "duration": 2.72}, {"text": "So we'll have to break limit\nthe number of guess attempts.", "start": 2046.81, "duration": 2.56}, {"text": "But he just screwed up, like\nthe mechanism had a bug in it.", "start": 2049.37, "duration": 2.88}, {"text": "He just forgot to enforce this\nright policy and mechanism", "start": 2052.25, "duration": 2.989}, {"text": "at some interface.", "start": 2055.239, "duration": 1.041}, {"text": "And this shows up again\nand again in systems,", "start": 2056.28, "duration": 3.24}, {"text": "where just made a mistake and\nit has pretty drastic effects", "start": 2059.52, "duration": 4.54}, {"text": "on the security of\nthe overall system.", "start": 2064.06, "duration": 2.94}, {"text": "This make sense?", "start": 2067.0, "duration": 1.96}, {"text": "Any questions so far?", "start": 2068.96, "duration": 1.36}, {"text": "All right.", "start": 2073.29, "duration": 1.34}, {"text": "OK.", "start": 2074.63, "duration": 0.63}, {"text": "So another example-- this\nis sort of an example of you", "start": 2075.26, "duration": 3.889}, {"text": "forget to check for\npassword guessing attempts.", "start": 2079.149, "duration": 3.833}, {"text": "There's many other\nthings you can forget.", "start": 2082.982, "duration": 1.708}, {"text": "You could forget to check for\naccess control altogether.", "start": 2084.69, "duration": 3.14}, {"text": "So one example is, Citibank\nhad a website-- actually, still", "start": 2087.83, "duration": 5.349}, {"text": "has a website that allows you\nto look at your credit card", "start": 2093.179, "duration": 3.971}, {"text": "account information.", "start": 2097.15, "duration": 1.13}, {"text": "So if you have a credit\ncard with Citibank,", "start": 2098.28, "duration": 1.28}, {"text": "you go to this\nwebsite, it tells you,", "start": 2099.56, "duration": 1.1}, {"text": "yeah, you have this credit card.", "start": 2100.66, "duration": 1.333}, {"text": "Here's all the charges,\nall this great stuff.", "start": 2101.993, "duration": 2.167}, {"text": "And the workflow a couple\nof years ago was that you go", "start": 2104.16, "duration": 4.32}, {"text": "to some site, you provide a\nlog in username and password,", "start": 2108.48, "duration": 4.23}, {"text": "and you get redirected\nto another URL,", "start": 2112.71, "duration": 2.92}, {"text": "which is something like, I\ndon't know, I'm guessing,", "start": 2115.63, "duration": 2.5}, {"text": "but basically like\nciti.com/account?id= you know,", "start": 2118.13, "duration": 5.06}, {"text": "whatever, one two three four.", "start": 2123.19, "duration": 3.45}, {"text": "And it turns out that some\nguy figured out, well,", "start": 2126.64, "duration": 2.782}, {"text": "if you change this\nnumber, you just", "start": 2129.422, "duration": 1.458}, {"text": "get someone else's account.", "start": 2130.88, "duration": 3.03}, {"text": "And it's not clear quite\nhow to think of this.", "start": 2133.91, "duration": 3.6}, {"text": "One possibility is that these\nguys were just thinking right,", "start": 2137.51, "duration": 2.5}, {"text": "but they, again, forgot to\ncheck a function in this account", "start": 2140.01, "duration": 3.01}, {"text": "page that, not only do I\nhave a valid ID number,", "start": 2143.02, "duration": 3.626}, {"text": "but it's also the ID\nnumber of the guy that's", "start": 2146.646, "duration": 1.874}, {"text": "currently logged in.", "start": 2148.52, "duration": 1.96}, {"text": "It's an important check to me.", "start": 2150.48, "duration": 1.47}, {"text": "But it's easy to forget.", "start": 2151.95, "duration": 1.809}, {"text": "Another thing is, maybe\nthese guys were thinking,", "start": 2153.759, "duration": 2.041}, {"text": "no, no one could hit URLs.", "start": 2155.8, "duration": 1.132}, {"text": "Maybe they had a bad\nthreat model, right?", "start": 2156.932, "duration": 1.708}, {"text": "Maybe they're\nthinking, the URL--", "start": 2158.64, "duration": 1.81}, {"text": "if I don't print this URL,\nno one can click on it.", "start": 2160.45, "duration": 2.37}, {"text": "It's like a bad threat model.", "start": 2162.82, "duration": 1.37}, {"text": "So maybe that's-- well, it's\nhard to tell exactly what went", "start": 2164.19, "duration": 3.29}, {"text": "wrong.", "start": 2167.48, "duration": 0.68}, {"text": "But anyway, these\nmistakes do happen.", "start": 2168.16, "duration": 2.12}, {"text": "And they show up a lot.", "start": 2170.28, "duration": 2.58}, {"text": "So easy to have\nsmall, seemingly, bugs", "start": 2172.86, "duration": 4.76}, {"text": "in your mechanism lead to\npretty unfortunate consequences.", "start": 2177.62, "duration": 6.81}, {"text": "Another example that's not\nso much in missing checks", "start": 2184.43, "duration": 3.72}, {"text": "is a problem that\nshowed up on Android", "start": 2188.15, "duration": 2.84}, {"text": "phones a couple of months ago.", "start": 2190.99, "duration": 2.82}, {"text": "Maybe I'll use this\nboard over here.", "start": 2193.81, "duration": 4.26}, {"text": "So the problem was related to\nBitcoin, which is this-- well,", "start": 2198.07, "duration": 4.04}, {"text": "I'm sure you've heard--\nthis electronic currency", "start": 2202.11, "duration": 2.37}, {"text": "system that's pretty\npopular these days.", "start": 2204.48, "duration": 3.29}, {"text": "And the way that Bitcoin\nworks, at a very high level,", "start": 2207.77, "duration": 6.88}, {"text": "is that your balance\nof Bitcoins is", "start": 2214.65, "duration": 4.06}, {"text": "associated with a private key.", "start": 2218.71, "duration": 2.19}, {"text": "And if you have\nsomeone's private key", "start": 2220.9, "duration": 2.1}, {"text": "you can, of course,\nspend their Bitcoins.", "start": 2223.0, "duration": 2.77}, {"text": "So the security of Bitcoin\nrelies quite heavily", "start": 2225.77, "duration": 4.84}, {"text": "on no one else knowing\nyour private key.", "start": 2230.61, "duration": 2.8}, {"text": "It's kind of like a password,\nexcept it's even more", "start": 2233.41, "duration": 2.31}, {"text": "important, because people can\nprobably make lots of guesses", "start": 2235.72, "duration": 2.677}, {"text": "at your private key.", "start": 2238.397, "duration": 0.833}, {"text": "And there's no real server\nthat's checking your key.", "start": 2239.23, "duration": 2.166}, {"text": "It's just cryptography.", "start": 2241.396, "duration": 0.994}, {"text": "So any machine can try\nto make lots of guesses", "start": 2242.39, "duration": 2.327}, {"text": "at your private key.", "start": 2244.717, "duration": 0.833}, {"text": "And if they guess it, then\nthey can transfer your Bitcoins", "start": 2245.55, "duration": 2.83}, {"text": "to someone else.", "start": 2248.38, "duration": 1.84}, {"text": "And as a result, it's\ncritically important", "start": 2250.22, "duration": 2.12}, {"text": "that you generate\ngood, random keys", "start": 2252.34, "duration": 2.57}, {"text": "that no one else can guess.", "start": 2254.91, "duration": 2.07}, {"text": "And there are people\nusing Bitcoin on Android.", "start": 2256.98, "duration": 4.24}, {"text": "And the Android applications\nfor Bitcoin were getting random", "start": 2261.22, "duration": 4.23}, {"text": "values for these keys using this\nJava API called SecureRandom(),", "start": 2265.45, "duration": 5.76}, {"text": "which sounds great, but as\npeople figured out, well, OK.", "start": 2271.21, "duration": 4.83}, {"text": "So what it is, right, it doesn't\nreally get real random numbers.", "start": 2276.04, "duration": 3.04}, {"text": "Inside of it, there's\nthis construction", "start": 2279.08, "duration": 1.72}, {"text": "called Pseudorandom\nNumber Generator,", "start": 2280.8, "duration": 3.29}, {"text": "or PRNG that, given\na particular seed", "start": 2284.09, "duration": 3.127}, {"text": "value, like you get\nmaybe a couple of hundred", "start": 2287.217, "duration": 2.323}, {"text": "bits of randomness and you\nshove it into this PRNG,", "start": 2289.54, "duration": 2.86}, {"text": "you can keep asking it for more\nrandomness and sort of stretch", "start": 2292.4, "duration": 3.01}, {"text": "these random bits into as\nmany random bits as you want.", "start": 2295.41, "duration": 4.25}, {"text": "So you see them\ninitially, and then you", "start": 2299.66, "duration": 2.466}, {"text": "can generate as many\nrandom bits as you want.", "start": 2302.126, "duration": 1.874}, {"text": "And for various cryptographic\nreasons I won't go into here,", "start": 2304.0, "duration": 2.581}, {"text": "it actually works.", "start": 2306.581, "duration": 0.749}, {"text": "If you give it a couple of\nhundred really good random bits", "start": 2307.33, "duration": 2.7}, {"text": "initially, it's going to\nbe very hard for anyone", "start": 2310.03, "duration": 2.04}, {"text": "to predict what the pseudorandom\nvalues it's generating are.", "start": 2312.07, "duration": 5.31}, {"text": "But the problem is\nthat this Java library", "start": 2317.38, "duration": 2.92}, {"text": "had a small bug in it.", "start": 2320.3, "duration": 1.54}, {"text": "In some set of\ncircumstances, it forgot", "start": 2321.84, "duration": 3.14}, {"text": "to initialize the\nPRNG with a seed,", "start": 2324.98, "duration": 1.88}, {"text": "so it was just all zeros, which\nmeans that everyone could just", "start": 2326.86, "duration": 3.162}, {"text": "figure out what your\nrandom numbers were.", "start": 2330.022, "duration": 1.708}, {"text": "If they start with\nzeros, they'll", "start": 2331.73, "duration": 1.39}, {"text": "produce the same\nrandom numbers as you,", "start": 2333.12, "duration": 1.637}, {"text": "which means they'll produce\nthe same private key as you.", "start": 2334.757, "duration": 2.333}, {"text": "So they can just generate\nthe same private key", "start": 2337.09, "duration": 2.1}, {"text": "and transfer your Bitcoins.", "start": 2339.19, "duration": 1.93}, {"text": "So this is, again, a\nsmall or not small bug,", "start": 2341.12, "duration": 4.28}, {"text": "depending on, I\nguess, who is asking.", "start": 2345.4, "duration": 2.92}, {"text": "But nonetheless, right?", "start": 2348.32, "duration": 1.68}, {"text": "Another example of small\nprogramming mistakes", "start": 2350.0, "duration": 2.5}, {"text": "leading to pretty\ncatastrophic results.", "start": 2352.5, "duration": 2.29}, {"text": "Lot's of people got their\nBitcoin balances stolen", "start": 2354.79, "duration": 2.62}, {"text": "because of this weakness.", "start": 2357.41, "duration": 1.99}, {"text": "Of course, the fix is\npretty simple at some level.", "start": 2359.4, "duration": 2.52}, {"text": "You change the\nJava implementation", "start": 2361.92, "duration": 1.44}, {"text": "of SecureRandom() to always\nseed this PRNG with random input", "start": 2363.36, "duration": 4.91}, {"text": "bits.", "start": 2368.27, "duration": 0.94}, {"text": "And then, hopefully,\nyou're in good shape.", "start": 2369.21, "duration": 2.09}, {"text": "But still, that's yet another\nexample of mechanism failure.", "start": 2371.3, "duration": 5.232}, {"text": "Yeah?", "start": 2376.532, "duration": 0.642}, {"text": "AUDIENCE: Just to be clear,\nis this a different attack", "start": 2377.174, "duration": 2.25}, {"text": "from the DSA\nsignature randomness?", "start": 2379.424, "duration": 2.672}, {"text": "PROFESSOR: Well yeah.", "start": 2382.096, "duration": 0.874}, {"text": "So the actual problem\nis a little bit more", "start": 2382.97, "duration": 1.84}, {"text": "complicated, as\nyou're hinting at.", "start": 2384.81, "duration": 1.5}, {"text": "The problem is, even\nif you didn't generate", "start": 2386.31, "duration": 2.39}, {"text": "your key on the Android\ndevice in the first place,", "start": 2388.7, "duration": 2.44}, {"text": "the particular signature\nscheme used by Bitcoin", "start": 2391.14, "duration": 5.01}, {"text": "assumes that every time you\ngenerate a new signature", "start": 2396.15, "duration": 2.96}, {"text": "with that key, you\nuse a fresh, what's", "start": 2399.11, "duration": 2.2}, {"text": "called a nonce, for\ngenerating that signature.", "start": 2401.31, "duration": 1.98}, {"text": "And if you ever generate two\nsignatures with the same nonce,", "start": 2403.29, "duration": 3.98}, {"text": "then someone can figure\nout what your key is.", "start": 2407.27, "duration": 2.274}, {"text": "The story is pretty similar.", "start": 2409.544, "duration": 1.166}, {"text": "But the details are\na little different.", "start": 2410.71, "duration": 1.56}, {"text": "So yeah, even if you actually\ngenerated your key somewhere", "start": 2412.27, "duration": 2.04}, {"text": "else and your key was great,\nit's just that every time you", "start": 2414.31, "duration": 2.416}, {"text": "generate a signature,\nyou would--", "start": 2416.726, "duration": 3.114}, {"text": "and you generated two signatures\nwith exactly the same nonce,", "start": 2419.84, "duration": 3.35}, {"text": "or random value, someone\ncould apply some clever math", "start": 2423.19, "duration": 3.46}, {"text": "to your signatures and sort\nof extract your public key out", "start": 2426.65, "duration": 3.62}, {"text": "of it.", "start": 2430.27, "duration": 0.5}, {"text": "Or private key,\nmore importantly.", "start": 2430.77, "duration": 3.47}, {"text": "All right.", "start": 2434.24, "duration": 0.9}, {"text": "Other questions about these\nproblems, examples, et cetera?", "start": 2435.14, "duration": 5.47}, {"text": "All right.", "start": 2440.61, "duration": 1.08}, {"text": "So I guess, one thing I wanted\nto point out is that actually,", "start": 2441.69, "duration": 4.88}, {"text": "well, as you're\nstarting to appreciate,", "start": 2446.57, "duration": 1.83}, {"text": "is that in computer security,\nalmost every detail has", "start": 2448.4, "duration": 4.43}, {"text": "a chance of really mattering.", "start": 2452.83, "duration": 2.17}, {"text": "If you screw up almost something\nseemingly inconsequential,", "start": 2455.0, "duration": 3.39}, {"text": "like forgetting to check\nsomething, or this,", "start": 2458.39, "duration": 2.39}, {"text": "or forgetting to\ninitialize the random seed,", "start": 2460.78, "duration": 2.41}, {"text": "it can have pretty\ndramatic consequences", "start": 2463.19, "duration": 1.79}, {"text": "for the overall system.", "start": 2464.98, "duration": 2.03}, {"text": "And you really have to\nbe very clear about,", "start": 2467.01, "duration": 2.52}, {"text": "what is the specification\nof your system?", "start": 2469.53, "duration": 1.98}, {"text": "What is it doing?", "start": 2471.51, "duration": 1.0}, {"text": "Exactly what are all\nthe corner cases?", "start": 2472.51, "duration": 2.36}, {"text": "And a good way to sort of\nthink of breaking a system", "start": 2474.87, "duration": 2.3}, {"text": "or, conversely, figure out\nif your system is secure,", "start": 2477.17, "duration": 2.199}, {"text": "is to really push\nall the edge cases,", "start": 2479.369, "duration": 1.541}, {"text": "like what happens if my\ninput is just large enough?", "start": 2480.91, "duration": 3.04}, {"text": "Or what is the biggest\nor the smallest input?", "start": 2483.95, "duration": 2.67}, {"text": "What is the sort\nof strangest set", "start": 2486.62, "duration": 2.36}, {"text": "of inputs I could\nprovide to my program", "start": 2488.98, "duration": 1.69}, {"text": "and push it in all\nthese corner cases?", "start": 2490.67, "duration": 3.58}, {"text": "One example of this ambiguity,\nsort of a good example", "start": 2494.25, "duration": 4.71}, {"text": "to keep in mind, is how\nSSL certificates, again,", "start": 2498.96, "duration": 5.89}, {"text": "encode names into the\ncertificate itself.", "start": 2504.85, "duration": 4.352}, {"text": "So this is a different\nproblem than the problem", "start": 2509.202, "duration": 1.958}, {"text": "about the certificate\nauthorities being trusted.", "start": 2511.16, "duration": 2.42}, {"text": "So these SSL certificates\nare just sequences of bytes", "start": 2513.58, "duration": 3.89}, {"text": "that a web server sends to you.", "start": 2517.47, "duration": 1.53}, {"text": "And inside of this\nSSL certificate", "start": 2519.0, "duration": 2.2}, {"text": "is the name of the server\nyou're connecting to,", "start": 2521.2, "duration": 3.14}, {"text": "so something like Amazon.com.", "start": 2524.34, "duration": 1.804}, {"text": "You know, you can't just\nput down those bytes.", "start": 2526.144, "duration": 1.916}, {"text": "You have to encode it\nsomehow and specify, well,", "start": 2528.06, "duration": 1.81}, {"text": "it's Amazon.com.", "start": 2529.87, "duration": 0.666}, {"text": "And that's the\nend of the string.", "start": 2530.536, "duration": 2.324}, {"text": "So in SSL certificates, they\nuse a particular encoding scheme", "start": 2532.86, "duration": 5.68}, {"text": "that writes down Amazon.com\nby first writing down", "start": 2538.54, "duration": 5.75}, {"text": "the number of bytes\nin the string.", "start": 2544.29, "duration": 2.104}, {"text": "So you first write down, OK.", "start": 2546.394, "duration": 1.166}, {"text": "Well, I'm going to have a 10\nbyte string called Amazon.com.", "start": 2547.56, "duration": 4.754}, {"text": "That's actually 10 bytes.", "start": 2555.679, "duration": 1.041}, {"text": "Great.", "start": 2556.72, "duration": 0.27}, {"text": "OK.", "start": 2556.99, "duration": 0.52}, {"text": "So this is like-- in the\nSSL certificate, somewhere", "start": 2557.51, "duration": 2.61}, {"text": "in there, there is this byte\n10 followed by 10 bytes saying", "start": 2560.12, "duration": 4.04}, {"text": "what the host name is.", "start": 2564.16, "duration": 1.01}, {"text": "And there's other stuff\nafterwards, right, and before.", "start": 2565.17, "duration": 3.67}, {"text": "And when a browser takes\nit, well, the browser", "start": 2568.84, "duration": 1.97}, {"text": "is written in C. And the\nway C represents strings", "start": 2570.81, "duration": 3.33}, {"text": "is by null terminating them.", "start": 2574.14, "duration": 2.52}, {"text": "So in C, a string doesn't\nhave a length count.", "start": 2576.66, "duration": 2.69}, {"text": "Instead, it has all the bytes.", "start": 2579.35, "duration": 1.73}, {"text": "And the end of the string\nis just the byte zero.", "start": 2581.08, "duration": 2.58}, {"text": "And in C, you write it with\na backslash zero character.", "start": 2583.66, "duration": 3.45}, {"text": "So this is in memory\nin your browser.", "start": 2587.11, "duration": 1.63}, {"text": "Somewhere in memory\nthere's this string", "start": 2591.34, "duration": 1.97}, {"text": "of 11 bytes, now, with\nan extra zero at the end.", "start": 2593.31, "duration": 2.641}, {"text": "And when a browser\ninterprets this string,", "start": 2595.951, "duration": 1.749}, {"text": "it just keeps going until\nit sees an end of string", "start": 2597.7, "duration": 2.25}, {"text": "marker, which is a zero byte.", "start": 2599.95, "duration": 2.89}, {"text": "OK.", "start": 2602.84, "duration": 1.16}, {"text": "So, what could go wrong?", "start": 2604.0, "duration": 2.33}, {"text": "Any guesses?", "start": 2606.33, "duration": 2.421}, {"text": "Yeah?", "start": 2608.751, "duration": 0.499}, {"text": "AUDIENCE: You have a zero\nin the middle [INAUDIBLE]?", "start": 2609.25, "duration": 2.325}, {"text": "PROFESSOR: Yes.", "start": 2611.575, "duration": 0.465}, {"text": "This is great.", "start": 2612.04, "duration": 0.47}, {"text": "All right.", "start": 2612.51, "duration": 0.499}, {"text": "So, this is actually a\nbit of a discontinuity", "start": 2613.009, "duration": 2.213}, {"text": "in terms of how\nthis guy represents", "start": 2615.222, "duration": 1.458}, {"text": "strings and this guy.", "start": 2616.68, "duration": 1.17}, {"text": "So suppose that I own\nthe domain foo.com.", "start": 2617.85, "duration": 3.68}, {"text": "So I can get certificates\nfor anything dot foo dot com.", "start": 2621.53, "duration": 4.201}, {"text": "So what I could do is ask for\na certificate for the name", "start": 2625.731, "duration": 4.837}, {"text": "amazon.com0x.foo.com.", "start": 2630.568, "duration": 0.875}, {"text": "That's a perfectly valid string.", "start": 2637.325, "duration": 1.835}, {"text": "It has a bunch of bytes.", "start": 2639.16, "duration": 1.57}, {"text": "I guess it's 10, 11\n12 13, 14, 15, 16,", "start": 2640.73, "duration": 2.98}, {"text": "there's another four, 20, right?", "start": 2643.71, "duration": 2.12}, {"text": "So this is 20 byte name\nwith these 20 bytes.", "start": 2645.83, "duration": 4.19}, {"text": "So it used to be that if you\ngo to a certificate authority,", "start": 2650.02, "duration": 2.74}, {"text": "in many cases, you could\nsay, hey, I own foo.com.", "start": 2652.76, "duration": 2.47}, {"text": "Give me a certificate\nfor this thing.", "start": 2655.23, "duration": 1.76}, {"text": "And they'd be perfectly\nwilling to do it because it's", "start": 2656.99, "duration": 2.67}, {"text": "a subdomain of foo.com.", "start": 2659.66, "duration": 1.13}, {"text": "It's all yours.", "start": 2660.79, "duration": 1.96}, {"text": "But then, when a browser\ntakes this string", "start": 2662.75, "duration": 2.47}, {"text": "and loads it in memory, well,\nwhat it does is the same thing", "start": 2665.22, "duration": 2.71}, {"text": "it did here.", "start": 2667.93, "duration": 0.9}, {"text": "It copies the string.", "start": 2668.83, "duration": 2.009}, {"text": "amazon.com0x.foo.com.", "start": 2670.839, "duration": 0.875}, {"text": "It'll dutifully add the\nterminating zero at the end.", "start": 2677.206, "duration": 3.494}, {"text": "But then, when the rest\nof the browser software", "start": 2680.7, "duration": 2.67}, {"text": "goes and tries to interpret the\nstring at this memory location,", "start": 2683.37, "duration": 4.14}, {"text": "it'll keep going up until it\ngets to zero and say, OK well,", "start": 2687.51, "duration": 3.212}, {"text": "that's the end of the string.", "start": 2690.722, "duration": 1.208}, {"text": "So this is Amazon.com.", "start": 2691.93, "duration": 1.346}, {"text": "That's it.", "start": 2693.276, "duration": 1.354}, {"text": "So this sort of disconnect\nbetween how C software", "start": 2694.63, "duration": 5.49}, {"text": "and how SSL certificates\nrepresent names", "start": 2700.12, "duration": 2.95}, {"text": "led to some unfortunate\nsecurity problems.", "start": 2703.07, "duration": 2.73}, {"text": "This was actually\ndiscovered a number of years", "start": 2705.8, "duration": 2.44}, {"text": "ago now by this guy,\nMoxie Marlinspike.", "start": 2708.24, "duration": 2.79}, {"text": "But it's a fairly\nclever observation.", "start": 2711.03, "duration": 2.59}, {"text": "And these kinds of encoding\nbugs are actually also", "start": 2713.62, "duration": 3.85}, {"text": "pretty common in\nlots of software", "start": 2717.47, "duration": 3.0}, {"text": "because, unless you're very\ndiligent about exactly how you", "start": 2720.47, "duration": 3.56}, {"text": "encode things, there might be\ndifferent ways of encoding.", "start": 2724.03, "duration": 3.06}, {"text": "And whenever there's\ndisagreement,", "start": 2727.09, "duration": 1.457}, {"text": "there's a chance the bad guy\ncan take advantage of this.", "start": 2728.547, "duration": 2.333}, {"text": "One system thinks\nthat's a fine name.", "start": 2730.88, "duration": 1.541}, {"text": "Another thinks that's\nnot, something else.", "start": 2732.421, "duration": 2.169}, {"text": "So these are good places\nto sort of push a system", "start": 2734.59, "duration": 2.28}, {"text": "to see how it might break.", "start": 2736.87, "duration": 2.49}, {"text": "That make sense?", "start": 2739.36, "duration": 2.67}, {"text": "All right.", "start": 2742.03, "duration": 0.5}, {"text": "So maybe the last example\nof mechanism failure", "start": 2742.53, "duration": 4.69}, {"text": "I'm going to talk about today\nis a reasonably popular one.", "start": 2747.22, "duration": 3.87}, {"text": "It's this problem\nor buffer overflows.", "start": 2751.09, "duration": 1.82}, {"text": "So some of you have seen this\nin, or at least at some level,", "start": 2756.23, "duration": 3.15}, {"text": "in 6.033, if you did\nthe undergrad course.", "start": 2759.38, "duration": 2.48}, {"text": "But for those of you that have\nforgotten or haven't taken", "start": 2761.86, "duration": 3.43}, {"text": "oh three three, we'll sort\nof go over buffer overflows", "start": 2765.29, "duration": 2.25}, {"text": "in more detail.", "start": 2767.54, "duration": 0.59}, {"text": "And this will be, actually,\nquite critical for you guys,", "start": 2768.13, "duration": 2.333}, {"text": "because lab one is all\nabout buffer overflows.", "start": 2770.463, "duration": 2.363}, {"text": "And you're going\nto be exploiting", "start": 2772.826, "duration": 1.374}, {"text": "these vulnerabilities in a\nsomewhat real web server.", "start": 2774.2, "duration": 5.51}, {"text": "So let's figure out,\nwhat is the setting?", "start": 2779.71, "duration": 1.9}, {"text": "What are we talking about here?", "start": 2781.61, "duration": 1.69}, {"text": "So the setting we're\ngoing to be considering", "start": 2783.3, "duration": 2.17}, {"text": "is a system which has,\nlet's say, a web server.", "start": 2785.47, "duration": 4.86}, {"text": "So what we have is, we have\nsome computer out there", "start": 2790.33, "duration": 4.18}, {"text": "that has a web server on it.", "start": 2794.51, "duration": 2.03}, {"text": "And the web server\nis a program that", "start": 2799.13, "duration": 2.07}, {"text": "is going to accept connections\nfrom the outside world,", "start": 2801.2, "duration": 2.87}, {"text": "take requests-- which are\nbasically just packets--", "start": 2804.07, "duration": 3.41}, {"text": "and somehow process them, and\ndo some checking, probably.", "start": 2807.48, "duration": 4.34}, {"text": "If it's an illegal\nURL or if they're", "start": 2811.82, "duration": 2.354}, {"text": "trying to access a file they\nare not authorized to access,", "start": 2814.174, "duration": 2.416}, {"text": "the web server is going\nto return an error.", "start": 2816.59, "duration": 1.791}, {"text": "But otherwise, it's going\nto access some files,", "start": 2818.381, "duration": 2.019}, {"text": "maybe on disk, and\nsend them back out", "start": 2820.4, "duration": 3.64}, {"text": "in some sort of a reply.", "start": 2824.04, "duration": 2.95}, {"text": "So this is a hugely common\npicture, almost any system", "start": 2826.99, "duration": 3.33}, {"text": "you look at.", "start": 2830.32, "duration": 1.65}, {"text": "What's the policy?", "start": 2831.97, "duration": 1.176}, {"text": "Or what's the threat model?", "start": 2833.146, "duration": 1.124}, {"text": "So this is a bit of a problem\nin many real world systems,", "start": 2838.3, "duration": 3.83}, {"text": "namely that it's\nactually pretty hard", "start": 2842.13, "duration": 1.72}, {"text": "to pin down what is the\nexact policy or threat model", "start": 2843.85, "duration": 3.14}, {"text": "that we're talking about.", "start": 2846.99, "duration": 1.33}, {"text": "And this sort of imprecision\nor ambiguity about policies,", "start": 2848.32, "duration": 3.25}, {"text": "threat models, et\ncetera, is what sometimes", "start": 2851.57, "duration": 2.255}, {"text": "leads to security problems.", "start": 2853.825, "duration": 1.125}, {"text": "Not in this particular\ncase, but we'll see.", "start": 2854.95, "duration": 2.23}, {"text": "But maybe just to give\nyou a sense of how", "start": 2857.18, "duration": 2.91}, {"text": "to think of a typical web server\nin the context of this policy,", "start": 2860.09, "duration": 4.69}, {"text": "threat model kind of stuff, is\nthat well, probably the policy", "start": 2864.78, "duration": 2.85}, {"text": "is, the web server should do\nwhat the programmer intended", "start": 2867.63, "duration": 2.375}, {"text": "it to do.", "start": 2870.005, "duration": 0.655}, {"text": "It's a little vague.", "start": 2870.66, "duration": 0.915}, {"text": "But that's probably what's\ngoing on because anything more", "start": 2871.575, "duration": 2.375}, {"text": "specific, as well,\nthe web server should", "start": 2873.95, "duration": 1.666}, {"text": "do exactly what the\ncode does, is going", "start": 2875.616, "duration": 1.869}, {"text": "to be a bit of an [INAUDIBLE]\nAnd if your code has a bug,", "start": 2877.485, "duration": 2.375}, {"text": "well, your policy\nsays, well, that's", "start": 2879.86, "duration": 1.23}, {"text": "exactly what I should do.", "start": 2881.09, "duration": 1.041}, {"text": "I should follow the bug.", "start": 2882.131, "duration": 1.989}, {"text": "So it's a little hard to\nstate a policy precisely,", "start": 2884.12, "duration": 3.27}, {"text": "but in this case, let's\ngo with some intuitive", "start": 2887.39, "duration": 1.942}, {"text": "version of, well, the\nweb server should do what", "start": 2889.332, "duration": 1.958}, {"text": "the programmer wanted it to do.", "start": 2891.29, "duration": 2.495}, {"text": "And the threat\nmodel is probably,", "start": 2893.785, "duration": 1.375}, {"text": "the attacker doesn't have\naccess to this machine,", "start": 2895.16, "duration": 3.1}, {"text": "can't log in to it remotely,\ndoesn't have physical access", "start": 2898.26, "duration": 2.54}, {"text": "to it, but can send\nany packet they want.", "start": 2900.8, "duration": 1.89}, {"text": "So they're not restricted\nto certain kinds of packets.", "start": 2902.69, "duration": 4.184}, {"text": "Anything you can\nshape and sort of", "start": 2906.874, "duration": 1.416}, {"text": "deliver to this web\nserver, that's fair game.", "start": 2908.29, "duration": 1.897}, {"text": "Seems like a reasonable\nthreat model, in practice,", "start": 2910.187, "duration": 2.083}, {"text": "to have in mind.", "start": 2912.27, "duration": 2.18}, {"text": "And I guess the goal is that\nthis web server shouldn't", "start": 2914.45, "duration": 5.49}, {"text": "allow arbitrary stuff\nto go wrong here.", "start": 2919.94, "duration": 2.812}, {"text": "I guess that sort of\ngoes along with what", "start": 2922.752, "duration": 1.708}, {"text": "the programmer intended.", "start": 2924.46, "duration": 1.13}, {"text": "The programmer probably\ndidn't intend any request", "start": 2925.59, "duration": 2.15}, {"text": "to be able to access\nanything on the server.", "start": 2927.74, "duration": 1.87}, {"text": "And yet, it turns out if you\nmake certain kinds of mistakes", "start": 2929.61, "duration": 2.02}, {"text": "in writing the web server\nsoftware, which is basically", "start": 2931.63, "duration": 2.307}, {"text": "the mechanism here, right?", "start": 2933.937, "duration": 1.083}, {"text": "The web server software is\nthe thing that takes a request", "start": 2935.02, "duration": 2.37}, {"text": "and looks at it and\nmakes sure that it's not", "start": 2937.39, "duration": 1.66}, {"text": "going to do something bad, sends\na response back if everything's", "start": 2939.05, "duration": 2.66}, {"text": "OK.", "start": 2941.71, "duration": 0.34}, {"text": "The web server in\nthis mechanism.", "start": 2942.05, "duration": 1.374}, {"text": "It's enforcing your policy.", "start": 2943.424, "duration": 2.296}, {"text": "And as a result, if the web\nserver software is buggy,", "start": 2945.72, "duration": 3.01}, {"text": "then you're in trouble.", "start": 2948.73, "duration": 1.54}, {"text": "And one sort of common\nproblem, if you're", "start": 2950.27, "duration": 2.38}, {"text": "writing software in\nC which, you know,", "start": 2952.65, "duration": 2.02}, {"text": "many things are\nstill written in C", "start": 2954.67, "duration": 1.57}, {"text": "and probably will continue to\nbe written in C for a while,", "start": 2956.24, "duration": 3.35}, {"text": "you can mismanage your\nmemory allocations.", "start": 2959.59, "duration": 1.95}, {"text": "And as we saw in this SSL\ncertificate naming example,", "start": 2961.54, "duration": 3.79}, {"text": "even sort of a single\nbyte can really", "start": 2965.33, "duration": 1.94}, {"text": "make a huge difference,\nin terms of what goes on.", "start": 2967.27, "duration": 3.2}, {"text": "And I guess for\nthis example, we'll", "start": 2970.47, "duration": 2.01}, {"text": "look at a small piece of code\nthat's not quite a real web", "start": 2972.48, "duration": 3.48}, {"text": "server.", "start": 2975.96, "duration": 0.5}, {"text": "In the lab, you'll have this\nwhole picture to play with.", "start": 2976.46, "duration": 2.44}, {"text": "But for lecture, I\njust want to give you", "start": 2978.9, "duration": 2.44}, {"text": "a simplified example\nso we can talk", "start": 2981.34, "duration": 2.13}, {"text": "about what's sort of at the\ncore of what's going wrong.", "start": 2983.47, "duration": 3.67}, {"text": "And, in particular, if\nthis system wakes up,", "start": 2987.14, "duration": 4.375}, {"text": "I will show you sort of\na very small C function.", "start": 2991.515, "duration": 4.725}, {"text": "And we can sort of\nsee what goes wrong", "start": 2996.24, "duration": 2.83}, {"text": "if you provide different\ninputs to that piece of code.", "start": 2999.07, "duration": 5.33}, {"text": "All right.", "start": 3004.4, "duration": 0.82}, {"text": "So the C function that I\nhave in mind is this guy.", "start": 3005.22, "duration": 4.24}, {"text": "Somewhere here.", "start": 3013.95, "duration": 1.97}, {"text": "Oh, yeah.", "start": 3015.92, "duration": 0.8}, {"text": "It's coming on.", "start": 3019.684, "duration": 1.482}, {"text": "All right.", "start": 3021.166, "duration": 1.984}, {"text": "So here's the sort of\nprogram I'm talking about,", "start": 3023.15, "duration": 4.59}, {"text": "or I want to use\nas an example here.", "start": 3027.74, "duration": 2.54}, {"text": "So this program is just\ngoing to read a request.", "start": 3030.28, "duration": 2.694}, {"text": "And you can sort of\nimagine it's going to read", "start": 3032.974, "duration": 1.916}, {"text": "a request from the network.", "start": 3034.89, "duration": 1.51}, {"text": "But for the purposes\nof this example,", "start": 3036.4, "duration": 2.062}, {"text": "it's just going to read\na request from whatever", "start": 3038.462, "duration": 1.958}, {"text": "I'm typing in on the keyboard.", "start": 3040.42, "duration": 2.52}, {"text": "And it's going to store\nit in a buffer here.", "start": 3042.94, "duration": 2.485}, {"text": "And then it's going to\nparse it is an integer", "start": 3045.425, "duration": 1.875}, {"text": "and return the integer.", "start": 3047.3, "duration": 1.17}, {"text": "And the program will then print\nwhatever integer I get back.", "start": 3048.47, "duration": 3.96}, {"text": "It's like far from a web server.", "start": 3052.43, "duration": 1.68}, {"text": "But we'll at least\nsee some basics", "start": 3054.11, "duration": 3.18}, {"text": "of how buffer overflows\nwork and what goes wrong.", "start": 3057.29, "duration": 3.63}, {"text": "So let's see actually what\nhappens if we run this program.", "start": 3060.92, "duration": 2.46}, {"text": "So I can compile it here.", "start": 3063.38, "duration": 2.495}, {"text": "And actually, you\ncan sort of see", "start": 3065.875, "duration": 1.375}, {"text": "the-- it's already telling me\nwhat I'm screwing up, right?", "start": 3067.25, "duration": 3.35}, {"text": "The get function is dangerous\nand should not be used.", "start": 3070.6, "duration": 2.935}, {"text": "And we'll see in a second\nwhy the compiler is", "start": 3073.535, "duration": 2.175}, {"text": "so intent on telling me this.", "start": 3075.71, "duration": 2.59}, {"text": "And it actually is true.", "start": 3078.3, "duration": 2.02}, {"text": "But for now, suppose\nwe're a happy go lucky", "start": 3080.32, "duration": 3.21}, {"text": "developer that is willing\nto ignore this warning.", "start": 3083.53, "duration": 3.13}, {"text": "So OK.", "start": 3086.66, "duration": 0.69}, {"text": "I run this redirect function,\nI provide some input,", "start": 3087.35, "duration": 2.85}, {"text": "and it works.", "start": 3090.2, "duration": 2.84}, {"text": "Let's see if I\nprovide large inputs.", "start": 3093.04, "duration": 1.86}, {"text": "If I type in some\nlarge number, well,", "start": 3094.9, "duration": 2.365}, {"text": "at least it gives me\nsome large number.", "start": 3097.265, "duration": 1.625}, {"text": "It basically maxes out to\ntwo to the 31 and prints that", "start": 3098.89, "duration": 4.11}, {"text": "and doesn't go any higher.", "start": 3103.0, "duration": 1.53}, {"text": "So that's maybe not\ndisastrous, right?", "start": 3104.53, "duration": 1.76}, {"text": "Whatever.", "start": 3106.29, "duration": 0.5}, {"text": "You provided this\nridiculously large number.", "start": 3106.79, "duration": 2.78}, {"text": "You got something\ndidn't quite work.", "start": 3109.57, "duration": 2.42}, {"text": "It's not quite a problem yet.", "start": 3111.99, "duration": 1.52}, {"text": "But if we provide some\nreally large input,", "start": 3113.51, "duration": 2.01}, {"text": "we might get some\nother problem, right?", "start": 3115.52, "duration": 2.36}, {"text": "So suppose I provide\nin a lot of by 12", "start": 3117.88, "duration": 3.06}, {"text": "I just provided things\nthat are not numbers.", "start": 3120.94, "duration": 2.455}, {"text": "It prints zero.", "start": 3123.395, "duration": 0.625}, {"text": "That's not so bad.", "start": 3124.02, "duration": 2.41}, {"text": "But suppose I'm going to\npaste in a huge number of As.", "start": 3126.43, "duration": 4.56}, {"text": "OK, so now the program crashes.", "start": 3130.99, "duration": 2.5}, {"text": "Maybe not too surprising.", "start": 3133.49, "duration": 1.28}, {"text": "So if it was the case that if\nI send a bad request to the web", "start": 3134.77, "duration": 3.345}, {"text": "server, it just doesn't get back\nto me or doesn't send a reply,", "start": 3138.115, "duration": 2.625}, {"text": "that would be fine.", "start": 3140.74, "duration": 0.889}, {"text": "But we'll sort of\nlook inside and see", "start": 3141.629, "duration": 1.541}, {"text": "what happens, and try to\nfigure out how we can actually", "start": 3143.17, "duration": 2.58}, {"text": "take advantage of this crash\nto maybe do something much more", "start": 3145.75, "duration": 4.86}, {"text": "interesting, or, well, much more\nalong with what a hacker might", "start": 3150.61, "duration": 5.35}, {"text": "be interested in doing.", "start": 3155.96, "duration": 1.834}, {"text": "So to do this, we're\ngoing to run this program", "start": 3157.794, "duration": 1.916}, {"text": "under a debugger.", "start": 3159.71, "duration": 0.97}, {"text": "You'll get super familiar\nwith this in lab one.", "start": 3160.68, "duration": 3.3}, {"text": "But for now, what\nwe're going to do", "start": 3163.98, "duration": 1.52}, {"text": "is set a breakpoint in\nthat redirect function.", "start": 3165.5, "duration": 4.2}, {"text": "And we're going to sort of run\nalong and see what happens.", "start": 3169.7, "duration": 2.68}, {"text": "So when I run the\nprogram, it's going", "start": 3172.38, "duration": 2.03}, {"text": "to start executing\nin the main function.", "start": 3174.41, "duration": 2.04}, {"text": "And pretty quickly,\nit calls redirect.", "start": 3176.45, "duration": 2.33}, {"text": "And the debugger is now stopped\nat the beginning of redirect.", "start": 3178.78, "duration": 3.01}, {"text": "And we can actually see what's\ngoing on here by, for example,", "start": 3181.79, "duration": 5.04}, {"text": "we can ask it to print\nthe current CPU registers.", "start": 3186.83, "duration": 2.625}, {"text": "We're going to look at\nreally low level stuff", "start": 3189.455, "duration": 1.875}, {"text": "here, as opposed to at the\nlevel of C source code.", "start": 3191.33, "duration": 2.28}, {"text": "We're going to look at\nthe actual instructions", "start": 3193.61, "duration": 1.48}, {"text": "that my machine is\nexecuting because that's", "start": 3195.09, "duration": 1.791}, {"text": "what really is going on.", "start": 3196.881, "duration": 1.049}, {"text": "The C is actually maybe\nhiding some things from us.", "start": 3197.93, "duration": 3.02}, {"text": "So you can actually\nprint all the registers.", "start": 3200.95, "duration": 2.16}, {"text": "So on x86, as you\nmight remember.", "start": 3203.11, "duration": 2.864}, {"text": "Well, on [INAUDIBLE]\narchitecture,", "start": 3205.974, "duration": 1.416}, {"text": "there's a stack pointer.", "start": 3207.39, "duration": 1.78}, {"text": "So let me start maybe drawing\nthis diagram on the board", "start": 3209.17, "duration": 3.36}, {"text": "so we can try to reconstruct\nwhat's happening.", "start": 3212.53, "duration": 3.92}, {"text": "So what's going on is that\nmy program, not surprisingly,", "start": 3216.45, "duration": 3.1}, {"text": "has a stack.", "start": 3219.55, "duration": 1.47}, {"text": "On x86, the stack grows down.", "start": 3221.02, "duration": 2.28}, {"text": "So it sort of is\nthis stack like this.", "start": 3223.3, "duration": 2.74}, {"text": "And we can keep\npushing stuff onto it.", "start": 3226.04, "duration": 2.98}, {"text": "So right now, the\nstack pointer points", "start": 3229.02, "duration": 2.96}, {"text": "at this particular\nmemory location FFD010.", "start": 3231.98, "duration": 6.25}, {"text": "So some value.", "start": 3238.23, "duration": 1.305}, {"text": "So you can try to figure\nout, how did it get there?", "start": 3239.535, "duration": 2.125}, {"text": "One way to do it is to\ndisassemble the code", "start": 3241.66, "duration": 3.82}, {"text": "of this redirect function.", "start": 3245.48, "duration": 1.9}, {"text": "Is this going to work better?", "start": 3252.65, "duration": 1.58}, {"text": "Really?", "start": 3254.23, "duration": 1.39}, {"text": "Convenience variable\nmust have integer value.", "start": 3255.62, "duration": 2.63}, {"text": "Man.", "start": 3260.87, "duration": 0.5}, {"text": "What is going on\nwith my debugger?", "start": 3261.37, "duration": 1.416}, {"text": "All right.", "start": 3268.19, "duration": 0.5}, {"text": "Well, we can disassemble\nthe function by name.", "start": 3268.69, "duration": 2.81}, {"text": "So this is what the\nfunction is doing.", "start": 3271.5, "duration": 1.7}, {"text": "So first off, it starts\nby manipulating something", "start": 3273.2, "duration": 3.14}, {"text": "with this EBP register.", "start": 3276.34, "duration": 1.022}, {"text": "That's not super interesting.", "start": 3277.362, "duration": 1.208}, {"text": "But the first thing\nit does after that is", "start": 3278.57, "duration": 2.05}, {"text": "subtract a certain value\nfrom the stack pointer.", "start": 3280.62, "duration": 3.18}, {"text": "This is, basically, it's making\nspace for all those variables,", "start": 3283.8, "duration": 3.14}, {"text": "like the buffer and the integer,\ni, we saw in the C source code.", "start": 3286.94, "duration": 3.74}, {"text": "So we're actually,\nnow, four instructions", "start": 3290.68, "duration": 2.89}, {"text": "into the function, here.", "start": 3293.57, "duration": 1.66}, {"text": "So that stack\npointer value that we", "start": 3295.23, "duration": 1.96}, {"text": "saw before is actually already\nin the middle, so to say,", "start": 3297.19, "duration": 4.37}, {"text": "of the stack.", "start": 3301.56, "duration": 1.17}, {"text": "And currently,\nthere's stuff above it", "start": 3302.73, "duration": 4.11}, {"text": "that is going to be the\nbuffer, that integer", "start": 3306.84, "duration": 2.71}, {"text": "value, and actually,\nalso the return address", "start": 3309.55, "duration": 2.56}, {"text": "into the main function\ngoes on the stack, as well.", "start": 3312.11, "duration": 2.28}, {"text": "So somewhere here, we'll\nhave the return address.", "start": 3314.39, "duration": 3.344}, {"text": "And we actually\ntry to figure out,", "start": 3317.734, "duration": 1.416}, {"text": "where are things on the stack?", "start": 3319.15, "duration": 1.57}, {"text": "So we can print the address\nof that buffer variable.", "start": 3320.72, "duration": 6.13}, {"text": "So the buffer variable\nis at address D02C.", "start": 3326.85, "duration": 4.19}, {"text": "We can also print the\nvalue of that integer, i.", "start": 3331.04, "duration": 4.65}, {"text": "That guy is at D0AC.", "start": 3335.69, "duration": 3.27}, {"text": "So the i is way up on the stack.", "start": 3338.96, "duration": 2.01}, {"text": "But the buffer is a bit lower.", "start": 3340.97, "duration": 3.34}, {"text": "So what's going on is that\nwe have our buffer here", "start": 3344.31, "duration": 2.9}, {"text": "on the stack, and then\nfollowed above by i and maybe", "start": 3347.21, "duration": 5.25}, {"text": "some other stuff, and\nthen finally, the return", "start": 3352.46, "duration": 2.18}, {"text": "address into the main\nfunction that called redirect.", "start": 3354.64, "duration": 2.62}, {"text": "And the buffer\nis-- this is going,", "start": 3357.26, "duration": 3.65}, {"text": "the stack is growing down.", "start": 3360.91, "duration": 1.38}, {"text": "So these are higher addresses.", "start": 3362.29, "duration": 1.555}, {"text": "So what this means is that\nthe buffer-- we actually", "start": 3367.25, "duration": 3.76}, {"text": "have to decide, where is the\nzeroth element of the buffer,", "start": 3371.01, "duration": 2.74}, {"text": "and where is the 128th\nelement of this buffer?", "start": 3373.75, "duration": 3.2}, {"text": "So where does the zeroth\nelement of the buffer go?", "start": 3376.95, "duration": 3.56}, {"text": "Yeah?", "start": 3380.51, "duration": 1.695}, {"text": "Should be at the bottom,\nright, because yeah,", "start": 3382.205, "duration": 1.875}, {"text": "higher elements\njust keep going up.", "start": 3384.08, "duration": 1.51}, {"text": "So buff of zero is down here.", "start": 3385.59, "duration": 1.915}, {"text": "It just keeps going on.", "start": 3387.505, "duration": 1.255}, {"text": "And buff of 127 is\ngoing to be up there.", "start": 3388.76, "duration": 2.38}, {"text": "And then we'll have\ni and other stuff.", "start": 3391.14, "duration": 3.1}, {"text": "OK.", "start": 3394.24, "duration": 0.78}, {"text": "Well, let's see what\nhappens now if we", "start": 3395.02, "duration": 1.84}, {"text": "provide that input that seemed\nto be crashing it before.", "start": 3396.86, "duration": 2.76}, {"text": "So I guess one thing\nwe can actually", "start": 3399.62, "duration": 1.5}, {"text": "do before this is to see\nwhether we can actually", "start": 3401.12, "duration": 2.58}, {"text": "find this return address.", "start": 3403.7, "duration": 1.57}, {"text": "Where it actually happens to\nlive is at the EBP pointer.", "start": 3405.27, "duration": 3.6}, {"text": "This is just a convenient thing\nin the x86 calling convention,", "start": 3408.87, "duration": 3.83}, {"text": "that the EBP pointer,\nor register, actually", "start": 3412.7, "duration": 6.57}, {"text": "happens to point to something\non the stack which is going", "start": 3419.27, "duration": 2.88}, {"text": "to be called the saved EBP.", "start": 3422.15, "duration": 3.89}, {"text": "It's a separate location, sort\nof after all the variables", "start": 3426.04, "duration": 2.83}, {"text": "but before the return address.", "start": 3428.87, "duration": 1.38}, {"text": "And this is the\nthing that's being", "start": 3430.25, "duration": 1.416}, {"text": "saved by those first couple\nof instructions at the top.", "start": 3431.666, "duration": 3.134}, {"text": "And you actually\nsort of examine it.", "start": 3434.8, "duration": 1.83}, {"text": "In GDB you can say, examine x,\nsome value, so the EBP pointer", "start": 3436.63, "duration": 6.82}, {"text": "value.", "start": 3443.45, "duration": 1.12}, {"text": "So that's the location\nof the stack, D0B8.", "start": 3444.57, "duration": 2.15}, {"text": "Indeed, it's actually\nabove even the i variable.", "start": 3446.72, "duration": 3.3}, {"text": "So it's great.", "start": 3450.02, "duration": 0.75}, {"text": "And it has some other\nvalue that happens", "start": 3450.77, "duration": 1.666}, {"text": "to be the EBP before\nthis function was called.", "start": 3452.436, "duration": 3.614}, {"text": "But then, sort of one\nmore memory location", "start": 3456.05, "duration": 2.9}, {"text": "up is going to be\nthe return address.", "start": 3458.95, "duration": 1.76}, {"text": "So if we print EBP plus four,\nthere's something else there,", "start": 3460.71, "duration": 3.5}, {"text": "this 0x08048E5F.", "start": 3464.21, "duration": 4.59}, {"text": "And let's actually see\nwhere that's pointing.", "start": 3468.8, "duration": 2.92}, {"text": "So this is something you're\ngoing to do a lot in the lab.", "start": 3471.72, "duration": 2.765}, {"text": "So you can take this address.", "start": 3474.485, "duration": 1.655}, {"text": "And you can try\nto disassemble it.", "start": 3476.14, "duration": 2.93}, {"text": "So what is this guy?", "start": 3479.07, "duration": 1.06}, {"text": "Where did we end up?", "start": 3480.13, "duration": 2.16}, {"text": "So GDB actually helpfully\nfigures out which function", "start": 3482.29, "duration": 2.75}, {"text": "contains that address.", "start": 3485.04, "duration": 1.44}, {"text": "So 5F.", "start": 3486.48, "duration": 1.16}, {"text": "This is the guy that our\nreturn address is pointing to.", "start": 3487.64, "duration": 3.91}, {"text": "And as you can see, this\nis the instruction right", "start": 3491.55, "duration": 2.24}, {"text": "after the call to redirect.", "start": 3493.79, "duration": 2.28}, {"text": "So when we return\nfrom redirect, this", "start": 3496.07, "duration": 1.585}, {"text": "is exactly where we're going\nto jump and continue execution.", "start": 3497.655, "duration": 2.915}, {"text": "This is, hopefully,\nfairly straightforward", "start": 3500.57, "duration": 1.749}, {"text": "stuff from double oh four,\nsome standard OS class.", "start": 3502.319, "duration": 3.341}, {"text": "OK.", "start": 3505.66, "duration": 0.5}, {"text": "So where are we now?", "start": 3506.16, "duration": 2.14}, {"text": "Just to recap, we can try to\ndisassemble our instruction", "start": 3508.3, "duration": 4.76}, {"text": "pointer.", "start": 3513.06, "duration": 0.93}, {"text": "So we're at the beginning\nof redirect right now.", "start": 3513.99, "duration": 2.91}, {"text": "And we can run for a bit, and\nmaybe run that getS() function.", "start": 3516.9, "duration": 6.62}, {"text": "So OK, we run next.", "start": 3523.52, "duration": 1.69}, {"text": "What this does is it runs getS()\nand it's waiting for getS()", "start": 3525.21, "duration": 3.41}, {"text": "to return.", "start": 3528.62, "duration": 1.007}, {"text": "We can provide our bad input\nto getS() and try to get it", "start": 3529.627, "duration": 2.333}, {"text": "to crash again and see what's\ngoing on, really, there, right?", "start": 3531.96, "duration": 2.99}, {"text": "So we can paste a\nbunch of As again.", "start": 3534.95, "duration": 2.36}, {"text": "OK.", "start": 3537.31, "duration": 0.5}, {"text": "So we got out of getS() and\nthings are actually still OK,", "start": 3537.81, "duration": 2.61}, {"text": "right?", "start": 3540.42, "duration": 0.499}, {"text": "The program is still running.", "start": 3540.919, "duration": 1.601}, {"text": "But we can try to figure out,\nwhat is in memory right now", "start": 3542.52, "duration": 3.31}, {"text": "and why are things\ngoing to go wrong?", "start": 3545.83, "duration": 2.945}, {"text": "Actually, what do\nyou guys think?", "start": 3548.775, "duration": 1.375}, {"text": "What happened, right?", "start": 3550.15, "duration": 0.875}, {"text": "So I printed out a bunch of As.", "start": 3551.025, "duration": 1.955}, {"text": "What did getS()\ndo to the memory?", "start": 3552.98, "duration": 1.58}, {"text": "Yeah, yeah.", "start": 3556.77, "duration": 0.5}, {"text": "So it just keeps\nwriting As here, right?", "start": 3557.27, "duration": 1.666}, {"text": "All we actually passed to\ngetS() was a single pointer,", "start": 3558.936, "duration": 2.424}, {"text": "the start of this\naddress, right?", "start": 3561.36, "duration": 2.05}, {"text": "So this is the\nargument to getS(),", "start": 3563.41, "duration": 3.25}, {"text": "is a pointer to this memory\nlocation on the stack.", "start": 3566.66, "duration": 2.14}, {"text": "So it just kept writing As.", "start": 3568.8, "duration": 1.67}, {"text": "And it doesn't actually\nknow what the length is,", "start": 3570.47, "duration": 2.0}, {"text": "so it just keeps going, right?", "start": 3572.47, "duration": 1.29}, {"text": "It's going to override As\nall the way up the stack,", "start": 3573.76, "duration": 2.574}, {"text": "past the return address,\nprobably, and into whatever", "start": 3576.334, "duration": 2.166}, {"text": "was up the stack above us.", "start": 3578.5, "duration": 2.434}, {"text": "So we can check whether\nthat's the case.", "start": 3580.934, "duration": 1.666}, {"text": "So we can actually\nprint the buffer.", "start": 3582.6, "duration": 4.464}, {"text": "And in fact, it\ntells us, yeah, we", "start": 3587.064, "duration": 1.416}, {"text": "have 180 As there,\neven though the buffer", "start": 3588.48, "duration": 3.02}, {"text": "should be 128 elements large.", "start": 3591.5, "duration": 4.17}, {"text": "So this is not so great.", "start": 3595.67, "duration": 1.64}, {"text": "And we can actually,\nagain, examine what's", "start": 3597.31, "duration": 2.22}, {"text": "going on in that EBP pointer.", "start": 3599.53, "duration": 3.76}, {"text": "Dollar sign, EBP.", "start": 3603.29, "duration": 1.805}, {"text": "So in fact, yeah.", "start": 3605.095, "duration": 1.515}, {"text": "It's all 0x41, which is the\nASCII encoding of the letter A.", "start": 3606.61, "duration": 5.549}, {"text": "And in fact, the return\naddress is probably going", "start": 3612.159, "duration": 2.041}, {"text": "to be the same way, right?", "start": 3614.2, "duration": 1.083}, {"text": "If we print the return\naddress, it's also all As.", "start": 3615.283, "duration": 4.067}, {"text": "That's not so great.", "start": 3619.35, "duration": 0.895}, {"text": "In fact, what's going to\nhappen if we return now is", "start": 3620.245, "duration": 2.125}, {"text": "the program will jump to\nthat address, 41414141.", "start": 3622.37, "duration": 3.077}, {"text": "And there's nothing there.", "start": 3625.447, "duration": 1.083}, {"text": "And it'll crash.", "start": 3626.53, "duration": 0.666}, {"text": "That's the segmentation\nfault you're getting.", "start": 3627.196, "duration": 2.644}, {"text": "So let's just step up to\nit and see what happens.", "start": 3629.84, "duration": 3.25}, {"text": "So let's run next.", "start": 3633.09, "duration": 1.4}, {"text": "So we keep stepping\nthrough the program.", "start": 3634.49, "duration": 2.98}, {"text": "And we can see where we are.", "start": 3637.47, "duration": 2.59}, {"text": "OK.", "start": 3640.06, "duration": 0.5}, {"text": "We're getting close to\nthe end of the function.", "start": 3640.56, "duration": 2.77}, {"text": "So we can step over\ntwo more instructions.", "start": 3643.33, "duration": 3.07}, {"text": "nexti.", "start": 3646.4, "duration": 2.86}, {"text": "And now we can\ndisassemble again.", "start": 3649.26, "duration": 2.271}, {"text": "OK.", "start": 3651.531, "duration": 0.499}, {"text": "We're now just at the return\ninstruction from this function.", "start": 3652.03, "duration": 2.829}, {"text": "And we can actually figure out.", "start": 3654.859, "duration": 1.291}, {"text": "So as you can see, at\nthe end of the function,", "start": 3656.15, "duration": 3.54}, {"text": "it runs this leave\nx86 instruction,", "start": 3659.69, "duration": 2.43}, {"text": "which basically restores the\nstack back to where it was.", "start": 3662.12, "duration": 3.1}, {"text": "So it sort of pushes\nthe stack pointer", "start": 3665.22, "duration": 1.8}, {"text": "all the way back to the return\naddress using the same EBP.", "start": 3667.02, "duration": 3.18}, {"text": "That's what it's basically for.", "start": 3670.2, "duration": 1.61}, {"text": "And now, the stack is\npointing at the return address", "start": 3671.81, "duration": 3.611}, {"text": "that we're going to use.", "start": 3675.421, "duration": 0.999}, {"text": "And in fact, it's all A's.", "start": 3676.42, "duration": 1.92}, {"text": "And if we run one\nmore instruction,", "start": 3678.34, "duration": 2.03}, {"text": "the CPU is going to jump to\nthat exact memory address", "start": 3680.37, "duration": 2.36}, {"text": "and start executing\ncode there and crash,", "start": 3682.73, "duration": 2.62}, {"text": "because it's not a valid address\nthat's in the page table.", "start": 3685.35, "duration": 3.81}, {"text": "So let's actually see, just to\ndouble check, what's going on.", "start": 3689.16, "duration": 3.2}, {"text": "Let's print our buffer again.", "start": 3692.36, "duration": 2.209}, {"text": "Our buffer-- well, that's\nactually kind of interesting,", "start": 3694.569, "duration": 2.291}, {"text": "right?", "start": 3696.86, "duration": 0.499}, {"text": "So now, buffer,\nfor some reason it", "start": 3697.359, "duration": 1.571}, {"text": "only says A repeats 128 times.", "start": 3698.93, "duration": 2.78}, {"text": "Whereas if you remember before,\nit said A repeated 180 times", "start": 3701.71, "duration": 3.88}, {"text": "in our buffer.", "start": 3705.59, "duration": 2.1}, {"text": "So what happened?", "start": 3707.69, "duration": 1.686}, {"text": "Yeah?", "start": 3709.376, "duration": 0.5}, {"text": "AUDIENCE: [INAUDIBLE].", "start": 3709.876, "duration": 1.464}, {"text": "PROFESSOR: Yeah, yeah.", "start": 3711.34, "duration": 0.355}, {"text": "Exactly.", "start": 3711.695, "duration": 0.355}, {"text": "So there's actually\nsomething going on", "start": 3712.05, "duration": 1.583}, {"text": "after the buffer\noverflow happens", "start": 3713.633, "duration": 1.527}, {"text": "that changes what's going on.", "start": 3715.16, "duration": 1.652}, {"text": "So actually, if\nyou remember, we do", "start": 3716.812, "duration": 1.458}, {"text": "this A to i conversion of\nthe string to an integer.", "start": 3718.27, "duration": 2.38}, {"text": "And if you provide\nall As, it actually", "start": 3720.65, "duration": 2.42}, {"text": "writes zero to this\nmemory location.", "start": 3723.07, "duration": 2.78}, {"text": "So a zero, if you remember,\nterminates strings in C.", "start": 3725.85, "duration": 2.99}, {"text": "So GDB now thinks, yep, we have\na perfectly well-terminated", "start": 3728.84, "duration": 3.28}, {"text": "128 byte string of all As.", "start": 3732.12, "duration": 3.035}, {"text": "But you know, it\ndoesn't really matter,", "start": 3735.155, "duration": 1.625}, {"text": "because we still have\nthose As up top that", "start": 3736.78, "duration": 1.75}, {"text": "already corrupted our stack.", "start": 3738.53, "duration": 2.65}, {"text": "OK.", "start": 3741.18, "duration": 0.5}, {"text": "That was actually kind\nof an important lesson", "start": 3741.68, "duration": 1.874}, {"text": "that-- it's actually a\nlittle bit tricky, sometimes,", "start": 3743.554, "duration": 2.436}, {"text": "to explore these buffer\noverflows because, even", "start": 3745.99, "duration": 2.906}, {"text": "though you've already changed\nlots of stuff on the stack,", "start": 3748.896, "duration": 2.374}, {"text": "you still have to\nget to the point", "start": 3751.27, "duration": 1.6}, {"text": "where you use the value\nthat you have somehow", "start": 3752.87, "duration": 1.94}, {"text": "placed on the stack.", "start": 3754.81, "duration": 0.89}, {"text": "So there's other\ncode that's going", "start": 3755.7, "duration": 1.44}, {"text": "to run after you've\nmanaged to overflow", "start": 3757.14, "duration": 1.8}, {"text": "some buffer and corrupt memory.", "start": 3758.94, "duration": 1.334}, {"text": "You have to make sure that\ncode doesn't do something silly", "start": 3760.274, "duration": 2.416}, {"text": "like, if it's A to i,\njust exited right away,", "start": 3762.69, "duration": 2.8}, {"text": "as soon as it saw a\nnon-integer value,", "start": 3765.49, "duration": 2.58}, {"text": "we might not get to jump to\nall this 41414141 address.", "start": 3768.07, "duration": 5.28}, {"text": "So you have to massage\nyour input in some cases.", "start": 3773.35, "duration": 2.069}, {"text": "Maybe not so much in this case.", "start": 3775.419, "duration": 1.291}, {"text": "But in other\nsituations, you'll have", "start": 3776.71, "duration": 1.76}, {"text": "to be careful in\nconstructing this input.", "start": 3778.47, "duration": 2.64}, {"text": "OK, so just to see what happens,\nwe can jump one more time.", "start": 3781.11, "duration": 3.545}, {"text": "Well, let's look\nat our register.", "start": 3784.655, "duration": 1.375}, {"text": "So right now, our EIP, the\nsort of instruction pointer,", "start": 3786.03, "duration": 4.37}, {"text": "is pointing at the\nlast thing in redirect.", "start": 3790.4, "duration": 2.38}, {"text": "And if we step one more\ntime, hopefully we'll", "start": 3792.78, "duration": 2.05}, {"text": "jump to, finally, that\nunfortunate 4141 address.", "start": 3794.83, "duration": 4.74}, {"text": "Over here.", "start": 3799.57, "duration": 0.55}, {"text": "And in fact, yep.", "start": 3800.12, "duration": 0.867}, {"text": "The program now seems\nto be executing there.", "start": 3800.987, "duration": 1.833}, {"text": "If we ask GDB to print the\ncurrent set of registers,", "start": 3802.82, "duration": 3.17}, {"text": "yep, the current instruction\npointer is this strange value.", "start": 3805.99, "duration": 3.43}, {"text": "And if we exclude\none more instruction,", "start": 3809.42, "duration": 2.42}, {"text": "it's going to crash\nbecause that's finally", "start": 3811.84, "duration": 2.36}, {"text": "trying to execute an instruction\npointer that doesn't correspond", "start": 3814.2, "duration": 5.5}, {"text": "to a valid page in the\noperating system's page table", "start": 3819.7, "duration": 3.03}, {"text": "for this process.", "start": 3822.73, "duration": 2.04}, {"text": "Make sense?", "start": 3824.77, "duration": 1.98}, {"text": "Any questions?", "start": 3826.75, "duration": 2.51}, {"text": "All right.", "start": 3829.26, "duration": 0.5}, {"text": "Well, I've got a question\nfor you guys, actually.", "start": 3829.76, "duration": 3.15}, {"text": "So what happens-- you know,\nit seems to be exploitable.", "start": 3832.91, "duration": 5.63}, {"text": "Or well, OK.", "start": 3838.54, "duration": 1.104}, {"text": "Maybe let's first figure out\nwhy this is particularly bad,", "start": 3839.644, "duration": 2.416}, {"text": "right?", "start": 3842.06, "duration": 0.5}, {"text": "So why is it a problem?", "start": 3842.56, "duration": 1.202}, {"text": "So not only does\nour program crash,", "start": 3843.762, "duration": 1.458}, {"text": "but presumably we're\ngoing to take it over.", "start": 3845.22, "duration": 1.791}, {"text": "So I guess, first\nsimple question is, OK,", "start": 3847.011, "duration": 1.999}, {"text": "so what's the problem?", "start": 3849.01, "duration": 1.464}, {"text": "What can you do?", "start": 3850.474, "duration": 0.666}, {"text": "Yeah?", "start": 3851.14, "duration": 0.75}, {"text": "AUDIENCE: You can do\nwhatever you want.", "start": 3851.89, "duration": 1.29}, {"text": "PROFESSOR: Yeah.", "start": 3853.18, "duration": 0.666}, {"text": "So I was actually pretty silly\nand just put in lots of As.", "start": 3853.846, "duration": 2.963}, {"text": "But if you were\ncareful about knowing", "start": 3856.809, "duration": 1.541}, {"text": "where to put what\nvalues, you might", "start": 3858.35, "duration": 2.162}, {"text": "be able to put in\na different value", "start": 3860.512, "duration": 1.458}, {"text": "and get it to jump\nsomewhere else.", "start": 3861.97, "duration": 1.417}, {"text": "So let's see if we can\nactually do this, right?", "start": 3863.387, "duration": 1.957}, {"text": "We can retrace this whole thing.", "start": 3865.344, "duration": 1.366}, {"text": "OK.", "start": 3866.71, "duration": 0.5}, {"text": "Re-run the program again.", "start": 3867.21, "duration": 1.72}, {"text": "And I guess I have to\nreset the breakpoint.", "start": 3868.93, "duration": 4.1}, {"text": "So I can break and\nredirect again.", "start": 3873.03, "duration": 2.42}, {"text": "And run.", "start": 3875.45, "duration": 1.12}, {"text": "And this time,\nI'll, again, next,", "start": 3876.57, "duration": 5.43}, {"text": "supply lots of As\nand overflow things.", "start": 3882.0, "duration": 1.9}, {"text": "But I'm not going to try\nto carefully construct--", "start": 3883.9, "duration": 4.08}, {"text": "you know, figure out which\npoint in these As corresponds", "start": 3887.98, "duration": 2.465}, {"text": "to the location in the stack.", "start": 3890.445, "duration": 1.265}, {"text": "That's something\nyou guys are going", "start": 3891.71, "duration": 0.72}, {"text": "to have to do for lab one.", "start": 3892.43, "duration": 1.49}, {"text": "But suppose that I\noverflow the stack here.", "start": 3893.92, "duration": 3.13}, {"text": "And then I'm going\nto manually try", "start": 3897.05, "duration": 1.42}, {"text": "to change things on the stack to\nget it to jump to some point I", "start": 3898.47, "duration": 3.0}, {"text": "want to jump to.", "start": 3901.47, "duration": 1.84}, {"text": "And in this program, OK,\nso let's again-- nexti.", "start": 3903.31, "duration": 5.669}, {"text": "Where are we?", "start": 3908.979, "duration": 0.541}, {"text": "We're at, again, at the\nvery end of redirect.", "start": 3909.52, "duration": 2.83}, {"text": "And let's actually look\nat the stack, right?", "start": 3912.35, "duration": 2.19}, {"text": "So if we examine esp here,\nwe see our corrupted pointer.", "start": 3914.54, "duration": 3.88}, {"text": "OK.", "start": 3918.42, "duration": 0.5}, {"text": "Where could we jump to?", "start": 3918.92, "duration": 2.1}, {"text": "What interesting\nthings could we do?", "start": 3921.02, "duration": 1.774}, {"text": "Unfortunately, this\nprogram is pretty limited.", "start": 3922.794, "duration": 1.916}, {"text": "There's almost nothing\nin the program's code", "start": 3924.71, "duration": 1.833}, {"text": "where you could jump and\ndo anything interesting.", "start": 3926.543, "duration": 2.337}, {"text": "But maybe we can do a little\nbit of something interesting.", "start": 3928.88, "duration": 2.47}, {"text": "Maybe we'll find\nthe printf in main", "start": 3931.35, "duration": 2.11}, {"text": "and jump directly there, and\nget it to print the x value,", "start": 3933.46, "duration": 2.73}, {"text": "or x equals something.", "start": 3936.19, "duration": 1.52}, {"text": "So we can do this.", "start": 3937.71, "duration": 0.88}, {"text": "We can actually disassemble\nthe main function.", "start": 3938.59, "duration": 3.23}, {"text": "And main does a\nbunch of stuff, you", "start": 3941.82, "duration": 2.81}, {"text": "know, initializes, calls\nredirect, does some more stuff,", "start": 3944.63, "duration": 3.08}, {"text": "and then calls printf.", "start": 3947.71, "duration": 1.65}, {"text": "So how about we jump to\nthis point, which is,", "start": 3949.36, "duration": 2.61}, {"text": "it sets up the\nargument to printf,", "start": 3951.97, "duration": 2.23}, {"text": "which is x equals percent d,\nand then actually calls printf.", "start": 3954.2, "duration": 4.004}, {"text": "So we can actually\ntake this value", "start": 3958.204, "duration": 1.416}, {"text": "and try to stick\nit in the stack.", "start": 3959.62, "duration": 2.28}, {"text": "And should be able to do\nthis with the debugger", "start": 3961.9, "duration": 3.39}, {"text": "pretty easily, at least.", "start": 3965.29, "duration": 1.56}, {"text": "So you can do this set\n[? int ?] esp equals this value.", "start": 3966.85, "duration": 4.93}, {"text": "So we can examine esp again\nand, indeed, it actually", "start": 3971.78, "duration": 2.26}, {"text": "has this value.", "start": 3974.04, "duration": 0.74}, {"text": "So if we continue now,\nwell, it printed out x", "start": 3974.78, "duration": 4.81}, {"text": "equals some garbage,\nwhich I guess", "start": 3979.59, "duration": 2.36}, {"text": "happens to be just whatever\nis on the stack that", "start": 3981.95, "duration": 2.43}, {"text": "was passed to printf.", "start": 3984.38, "duration": 0.88}, {"text": "We didn't correctly set\nup all the arguments", "start": 3985.26, "duration": 1.43}, {"text": "because we jumped in the middle\nof this calling sequence.", "start": 3986.69, "duration": 2.375}, {"text": "But yeah, we printed this value.", "start": 3989.065, "duration": 1.745}, {"text": "And then it crashed.", "start": 3990.81, "duration": 1.98}, {"text": "Why did crash?", "start": 3992.79, "duration": 0.86}, {"text": "Why do you think?", "start": 3993.65, "duration": 2.662}, {"text": "What actually happens, right?", "start": 3996.312, "duration": 1.208}, {"text": "So we jump to printf.", "start": 3997.52, "duration": 2.48}, {"text": "And then, something went wrong.", "start": 4000.0, "duration": 2.085}, {"text": "Yeah?", "start": 4002.085, "duration": 0.5}, {"text": "Well, we changed\nthe return address", "start": 4005.772, "duration": 1.458}, {"text": "so that when we\nreturn from redirect,", "start": 4007.23, "duration": 1.7}, {"text": "we now jump to this new address,\nwhich is that point up there,", "start": 4008.93, "duration": 3.49}, {"text": "right after printf.", "start": 4012.42, "duration": 1.405}, {"text": "So where's this\ncrash coming from?", "start": 4013.825, "duration": 4.335}, {"text": "Yeah?", "start": 4018.16, "duration": 1.157}, {"text": "AUDIENCE: Is it\nrestricted because your i", "start": 4019.317, "duration": 1.708}, {"text": "is supposed to be some\nsort of integer, but--", "start": 4021.025, "duration": 1.956}, {"text": "PROFESSOR: No, actually,\nwell the i is like,", "start": 4022.981, "duration": 1.439}, {"text": "well it's a 32-bit register.", "start": 4024.42, "duration": 1.16}, {"text": "So whatever's in the\nregister, it'll print.", "start": 4025.58, "duration": 1.21}, {"text": "In fact, that's the thing\nthat's in the register.", "start": 4026.79, "duration": 2.041}, {"text": "So that's OK.", "start": 4028.831, "duration": 1.539}, {"text": "Yeah?", "start": 4030.37, "duration": 0.654}, {"text": "AUDIENCE: [INAUDIBLE]\nmain returns.", "start": 4031.024, "duration": 1.458}, {"text": "PROFESSOR: Yes.", "start": 4032.482, "duration": 0.453}, {"text": "Actually, yeah.", "start": 4032.935, "duration": 0.625}, {"text": "What's going on is, you\nhave to sort of-- OK,", "start": 4033.56, "duration": 1.965}, {"text": "so this is the point\nwhere we jumped.", "start": 4035.525, "duration": 2.185}, {"text": "It's set up some arguments.", "start": 4037.71, "duration": 1.25}, {"text": "It actually calls printf.", "start": 4038.96, "duration": 1.155}, {"text": "printf seems to work.\nprintf is going to return.", "start": 4040.115, "duration": 2.025}, {"text": "Now actually, that's fine,\nbecause this call instruction", "start": 4042.14, "duration": 2.444}, {"text": "put a return address on the\nstack for printf to use.", "start": 4044.584, "duration": 2.166}, {"text": "That's fine.", "start": 4046.75, "duration": 1.06}, {"text": "Then main is going\nto continue running.", "start": 4047.81, "duration": 1.829}, {"text": "It's going to run the sleeve\ninstruction, which doesn't", "start": 4049.639, "duration": 2.291}, {"text": "do anything interesting.", "start": 4051.93, "duration": 0.999}, {"text": "And then it does another return.", "start": 4052.929, "duration": 1.525}, {"text": "But the thing in\nthis-- up to the stack,", "start": 4054.454, "duration": 1.666}, {"text": "it doesn't actually have\na valid return address.", "start": 4056.12, "duration": 2.0}, {"text": "So presumably, we\nreturn to some other", "start": 4058.12, "duration": 2.13}, {"text": "who knows what memory location\nthat's up on the stack", "start": 4060.25, "duration": 2.55}, {"text": "and jump somewhere else.", "start": 4062.8, "duration": 1.95}, {"text": "So unfortunately,\nhere, our pseudoattack", "start": 4064.75, "duration": 3.26}, {"text": "didn't really work.", "start": 4068.01, "duration": 0.88}, {"text": "It ran some code.", "start": 4068.89, "duration": 0.95}, {"text": "But then it crashed.", "start": 4069.84, "duration": 1.3}, {"text": "That's probably not\nsomething you want to do.", "start": 4071.14, "duration": 1.17}, {"text": "So if you really\nwanted to be careful,", "start": 4072.31, "duration": 1.626}, {"text": "you would carefully plant not\njust this return address up", "start": 4073.936, "duration": 2.374}, {"text": "on the stack, but\nmaybe you'd figure out,", "start": 4076.31, "duration": 1.87}, {"text": "where is this second red going\nto get its return address from,", "start": 4078.18, "duration": 4.09}, {"text": "and try to carefully\nplace something", "start": 4082.27, "duration": 1.5}, {"text": "else on the stack\nthere that will ensure", "start": 4083.77, "duration": 2.33}, {"text": "that your program cleanly\nexits after it gets exploited", "start": 4086.1, "duration": 2.85}, {"text": "so that no one notices.", "start": 4088.95, "duration": 1.942}, {"text": "So this is all\nstuff you'll sort of", "start": 4090.892, "duration": 1.458}, {"text": "try to do in lab one in\na little bit more detail.", "start": 4092.35, "duration": 3.33}, {"text": "But I guess one thing we\ncan try to think about now", "start": 4095.68, "duration": 4.509}, {"text": "is, we sort of understand\nwhy it's bad to jump to the--", "start": 4100.189, "duration": 4.009}, {"text": "or to have these\nbuffer overflows.", "start": 4104.198, "duration": 1.416}, {"text": "One problem, or one sort\nof way to think of this", "start": 4111.63, "duration": 2.16}, {"text": "is that, the problem is just\nbecause the return address is", "start": 4113.79, "duration": 2.149}, {"text": "up there, right?", "start": 4115.939, "duration": 0.666}, {"text": "So the buffer keeps\ngrowing and eventually runs", "start": 4116.605, "duration": 2.334}, {"text": "over the return address.", "start": 4118.939, "duration": 2.21}, {"text": "What if we flip\nthe stack around?", "start": 4121.149, "duration": 2.13}, {"text": "You know, some machines actually\nhave stacks that grow up.", "start": 4123.279, "duration": 4.04}, {"text": "So an alternative design\nwe could sort of imagine", "start": 4127.319, "duration": 4.21}, {"text": "is one where the stack\nstarts at the bottom", "start": 4131.529, "duration": 3.841}, {"text": "and keeps going up\ninstead of going down.", "start": 4135.37, "duration": 3.18}, {"text": "So then, if you\noverflow this buffer,", "start": 4138.55, "duration": 2.786}, {"text": "you'll just keep\ngoing up on the stack,", "start": 4141.336, "duration": 1.624}, {"text": "and maybe there's nothing\nbad that will happen.", "start": 4142.96, "duration": 3.616}, {"text": "Yeah?", "start": 4146.576, "duration": 1.419}, {"text": "AUDIENCE: [INAUDIBLE].", "start": 4147.995, "duration": 2.851}, {"text": "PROFESSOR: So you're right.", "start": 4150.846, "duration": 1.124}, {"text": "It might be that,\nif you have-- well,", "start": 4151.97, "duration": 2.697}, {"text": "so let me draw this\nnew stack diagram.", "start": 4154.667, "duration": 1.583}, {"text": "And we'll sort of try to figure\nout what it applies to and not.", "start": 4156.25, "duration": 3.84}, {"text": "But OK.", "start": 4160.09, "duration": 0.529}, {"text": "So we'll basically just\ninvert the picture.", "start": 4160.619, "duration": 1.791}, {"text": "So when you call redirect on\nthis alternative architecture,", "start": 4162.41, "duration": 3.0}, {"text": "what's going to happen\nis the return address", "start": 4165.41, "duration": 1.89}, {"text": "is going to go\nhere on the stack.", "start": 4167.3, "duration": 3.74}, {"text": "Then we'll have our i variable,\nor maybe the saved EBP.", "start": 4171.04, "duration": 3.036}, {"text": "Then we'll have our i variable.", "start": 4176.93, "duration": 1.69}, {"text": "And then we'll have buff.", "start": 4178.62, "duration": 1.05}, {"text": "So we'll have buff of zero,\nbuff 127, and so on, right?", "start": 4179.67, "duration": 4.99}, {"text": "So then when we do the overflow,\nit overflows up there and maybe", "start": 4184.66, "duration": 3.569}, {"text": "doesn't hit anything bad.", "start": 4188.229, "duration": 1.081}, {"text": "I guess what you're\nsaying is that,", "start": 4189.31, "duration": 1.458}, {"text": "well, maybe we had\na buffer down there.", "start": 4190.768, "duration": 1.827}, {"text": "And if we had a buffer\ndown there, then yeah,", "start": 4192.595, "duration": 1.875}, {"text": "that seems kind of unfortunate.", "start": 4194.47, "duration": 1.291}, {"text": "It could overrun\nthis return address.", "start": 4195.761, "duration": 3.169}, {"text": "So you're right.", "start": 4198.93, "duration": 0.76}, {"text": "So you could still\nrun into problems", "start": 4199.69, "duration": 1.73}, {"text": "on this stack growing up.", "start": 4201.42, "duration": 1.93}, {"text": "But what about\nthis exact program?", "start": 4203.35, "duration": 1.435}, {"text": "Is this particular\nprogram safe on machines", "start": 4208.42, "duration": 2.699}, {"text": "where the stack grows up?", "start": 4211.119, "duration": 1.041}, {"text": "So just to recap what the\nprogram read is this guy.", "start": 4212.16, "duration": 3.51}, {"text": "Yeah?", "start": 4218.391, "duration": 0.499}, {"text": "AUDIENCE: Still\ngoing to overwrite", "start": 4218.89, "duration": 0.92}, {"text": "[INAUDIBLE] as a return value.", "start": 4219.81, "duration": 1.38}, {"text": "PROFESSOR: Yeah.", "start": 4221.19, "duration": 0.17}, {"text": "So that's actually\nclever, right?", "start": 4221.36, "duration": 1.375}, {"text": "So this is the stack\nframe for redirect.", "start": 4222.735, "duration": 6.305}, {"text": "I guess it actually spans\nall the way up here.", "start": 4229.04, "duration": 2.21}, {"text": "But what actually happens\nwhen you call getS() is that", "start": 4231.25, "duration": 3.54}, {"text": "redirect makes a function call.", "start": 4234.79, "duration": 1.82}, {"text": "It actually saves its return\naddress up here on the stack.", "start": 4236.61, "duration": 3.77}, {"text": "And then getS() starts running.", "start": 4240.38, "duration": 2.36}, {"text": "And getS() puts its\nown saved EBP up here.", "start": 4242.74, "duration": 2.75}, {"text": "And getS() is going to post\nits own variables higher up.", "start": 4245.49, "duration": 4.75}, {"text": "And then getS() is going\nto fill in the buffer.", "start": 4250.24, "duration": 3.902}, {"text": "So this is still problematic.", "start": 4254.142, "duration": 1.208}, {"text": "Basically, the buffer is\nsurrounded by return initials", "start": 4255.35, "duration": 2.249}, {"text": "on all sides.", "start": 4257.599, "duration": 1.831}, {"text": "Either way, you're going to\nbe able to overflow something.", "start": 4259.43, "duration": 2.76}, {"text": "So at what point-- suppose we\nhad a stack growing up machine.", "start": 4262.19, "duration": 4.11}, {"text": "At what point would\nyou be able to take", "start": 4266.3, "duration": 2.47}, {"text": "control of the program's\nexecution then?", "start": 4268.77, "duration": 1.844}, {"text": "Yes, and that is actually\neven easier in some ways.", "start": 4274.1, "duration": 2.324}, {"text": "You don't have to wait\nuntil redirect returns.", "start": 4276.424, "duration": 1.916}, {"text": "And maybe there was like, stuff\nthat was going to mess you up", "start": 4278.34, "duration": 1.86}, {"text": "like this A to i.", "start": 4280.2, "duration": 1.01}, {"text": "No.", "start": 4281.21, "duration": 0.5}, {"text": "It's actually easier, because\ngetS() is going to overflow", "start": 4281.71, "duration": 2.571}, {"text": "the buffer.", "start": 4284.281, "duration": 0.499}, {"text": "It's going to change\nthe return address", "start": 4284.78, "duration": 1.7}, {"text": "and then immediately\nreturn and immediately", "start": 4286.48, "duration": 1.791}, {"text": "jump to wherever you sort\nof tried to construct,", "start": 4288.271, "duration": 4.169}, {"text": "makes sense.", "start": 4292.44, "duration": 2.34}, {"text": "So what happens if we\nhave a program like this", "start": 4294.78, "duration": 3.395}, {"text": "that's pretty boring?", "start": 4298.175, "duration": 0.875}, {"text": "There's like no real\ninteresting code to jump to.", "start": 4299.05, "duration": 2.041}, {"text": "All you can do is get it to\nprint different x values here.", "start": 4301.091, "duration": 4.109}, {"text": "What if you want to do\nsomething interesting that you", "start": 4305.2, "duration": 2.304}, {"text": "didn't-- yeah?", "start": 4307.504, "duration": 1.141}, {"text": "AUDIENCE: I mean, if you\nhave an extra cable stack,", "start": 4308.645, "duration": 3.44}, {"text": "you could put\narbitrary code that,", "start": 4312.085, "duration": 2.315}, {"text": "for example, executes a shell?", "start": 4314.4, "duration": 1.627}, {"text": "PROFESSOR: Yeah yeah yeah.", "start": 4316.027, "duration": 1.083}, {"text": "So that's kind of clever,\nright, because you actually", "start": 4317.11, "duration": 2.7}, {"text": "can supply other inputs, right?", "start": 4319.81, "duration": 1.56}, {"text": "So at least, well-- there's\nsome defenses against this.", "start": 4321.37, "duration": 3.15}, {"text": "And we'll go over these\nin subsequent lectures.", "start": 4324.52, "duration": 2.18}, {"text": "But in principle, you could\nhave the return address here", "start": 4326.7, "duration": 3.57}, {"text": "that you override on either the\nstack up or stack down machine.", "start": 4330.27, "duration": 3.11}, {"text": "And instead of pointing\nit to some existing code,", "start": 4333.38, "duration": 2.98}, {"text": "like the printf\ninside of main, we", "start": 4336.36, "duration": 1.98}, {"text": "can actually have the return\naddress point into the buffer.", "start": 4338.34, "duration": 4.146}, {"text": "So it's previously just\nsome location on the stack.", "start": 4342.486, "duration": 2.124}, {"text": "But you could jump there\nand treat it as executable.", "start": 4344.61, "duration": 2.47}, {"text": "So as part of your\nrequest, you'll actually", "start": 4347.08, "duration": 2.19}, {"text": "send some bytes of\ndata to the server,", "start": 4349.27, "duration": 2.89}, {"text": "and then have the return address\nor the thing you overwrite here", "start": 4352.16, "duration": 3.53}, {"text": "point to the base of the\nbuffer, and you'll just", "start": 4355.69, "duration": 2.03}, {"text": "keep going from there.", "start": 4357.72, "duration": 1.52}, {"text": "So then you'll be able\nto sort of provide", "start": 4359.24, "duration": 2.189}, {"text": "the code you want\nto run, jump to it,", "start": 4361.429, "duration": 1.541}, {"text": "and get the server to run it.", "start": 4362.97, "duration": 1.42}, {"text": "And in fact, traditionally,\nin Unix systems,", "start": 4364.39, "duration": 2.32}, {"text": "what adversaries would often\ndo is just ask the operating", "start": 4366.71, "duration": 2.52}, {"text": "system to execute the\nbinsh command, which", "start": 4369.23, "duration": 2.05}, {"text": "lets you sort of type in\narbitrary shell commands", "start": 4371.28, "duration": 2.11}, {"text": "after that.", "start": 4373.39, "duration": 0.85}, {"text": "So as a result, this\nthing, this piece", "start": 4374.24, "duration": 2.12}, {"text": "of code you inject\ninto this buffer,", "start": 4376.36, "duration": 1.55}, {"text": "was often called, sort of for\nhistorical reasons, shell code.", "start": 4377.91, "duration": 3.35}, {"text": "And you'll try to construct\nsome in this lab one as well.", "start": 4381.26, "duration": 5.16}, {"text": "All right.", "start": 4386.42, "duration": 0.96}, {"text": "Make sense, what\nyou can do here?", "start": 4387.38, "duration": 2.247}, {"text": "Any questions?", "start": 4389.627, "duration": 0.583}, {"text": "Yeah?", "start": 4390.21, "duration": 0.794}, {"text": "AUDIENCE: Is there a separation\nbetween code and data?", "start": 4391.004, "duration": 2.488}, {"text": "PROFESSOR: Right.", "start": 4393.492, "duration": 0.708}, {"text": "So is there a separation\nbetween code and data here?", "start": 4394.2, "duration": 3.07}, {"text": "At least, well,\nhistorically, many machines", "start": 4397.27, "duration": 3.612}, {"text": "didn't enforce any\nseparation of code and data.", "start": 4400.882, "duration": 1.958}, {"text": "You'd just have a flat\nmemory address space.", "start": 4402.84, "duration": 1.9}, {"text": "The stack pointer\npoints somewhere.", "start": 4404.74, "duration": 1.55}, {"text": "The code pointer\npoints somewhere else.", "start": 4406.29, "duration": 2.032}, {"text": "And you just execute wherever\nthe code pointer, instruction", "start": 4408.322, "duration": 2.458}, {"text": "pointer is pointing.", "start": 4410.78, "duration": 1.73}, {"text": "Modern machines try to\nprovide some defenses", "start": 4412.51, "duration": 2.49}, {"text": "for these kinds of attacks.", "start": 4415.0, "duration": 1.66}, {"text": "And what modern\nmachines often do is,", "start": 4416.66, "duration": 2.48}, {"text": "they actually\nassociate permissions", "start": 4419.14, "duration": 1.67}, {"text": "with various memory regions.", "start": 4420.81, "duration": 1.51}, {"text": "And one of the\npermissions is execute.", "start": 4422.32, "duration": 1.96}, {"text": "So the part of your\n32-bit or 64-bit address", "start": 4424.28, "duration": 3.45}, {"text": "space that contains code\nhas the execute permission.", "start": 4427.73, "duration": 3.45}, {"text": "So if your instruction\npointer points there,", "start": 4431.18, "duration": 2.27}, {"text": "the CPU will actually\nrun those things.", "start": 4433.45, "duration": 2.29}, {"text": "And the stack and other data\nportions of your address space", "start": 4435.74, "duration": 3.317}, {"text": "typically don't have\nthe execute permission.", "start": 4439.057, "duration": 1.833}, {"text": "So if you happen to somehow\nset your instruction pointer", "start": 4440.89, "duration": 2.72}, {"text": "to some non-code memory\nlocation, you can set it,", "start": 4443.61, "duration": 3.96}, {"text": "but the CPU will\nrefuse to execute it.", "start": 4447.57, "duration": 2.49}, {"text": "So this is a reasonably\nnice way to defend", "start": 4450.06, "duration": 3.87}, {"text": "against these kinds of attacks.", "start": 4453.93, "duration": 1.32}, {"text": "But it doesn't prevent\nquite everything.", "start": 4455.25, "duration": 3.43}, {"text": "So just a question.", "start": 4458.68, "duration": 1.31}, {"text": "OK.", "start": 4459.99, "duration": 0.5}, {"text": "So how would you\nbypass this if you", "start": 4460.49, "duration": 1.92}, {"text": "had this non-executable stack?", "start": 4462.41, "duration": 2.575}, {"text": "You actually saw this\nexample earlier, right,", "start": 4464.985, "duration": 1.875}, {"text": "when I actually jumped\nto the middle of main.", "start": 4466.86, "duration": 3.19}, {"text": "So that was a way of sort\nof exploiting this buffer", "start": 4470.05, "duration": 4.13}, {"text": "overflow without having to\ninject new code of my own.", "start": 4474.18, "duration": 2.64}, {"text": "So even if the stack\nwas non-executable,", "start": 4476.82, "duration": 2.694}, {"text": "I would still be able to\njump in the middle of main.", "start": 4479.514, "duration": 2.166}, {"text": "In this particular case,\nit's kind of boring.", "start": 4481.68, "duration": 1.874}, {"text": "It just prints x and crashes.", "start": 4483.554, "duration": 1.466}, {"text": "But in other\nsituations, you might", "start": 4485.02, "duration": 1.53}, {"text": "have other pieces of\ncode in your program", "start": 4486.55, "duration": 1.54}, {"text": "that are doing interesting\nstuff that you really", "start": 4488.09, "duration": 1.999}, {"text": "do want to execute.", "start": 4490.089, "duration": 1.231}, {"text": "And that's sort of called return\nto libc attacks for, again,", "start": 4491.32, "duration": 3.2}, {"text": "somewhat historical reasons.", "start": 4494.52, "duration": 1.65}, {"text": "But it is a way to bypass\nthe security measures.", "start": 4496.17, "duration": 3.44}, {"text": "So in the context\nof buffer overflows,", "start": 4499.61, "duration": 3.25}, {"text": "there's not really\na clear cut solution", "start": 4502.86, "duration": 3.839}, {"text": "that provides perfect protection\nagainst these mistakes", "start": 4506.699, "duration": 2.291}, {"text": "because, at the end of the\nday, the programmer did", "start": 4508.99, "duration": 1.61}, {"text": "make some mistake in\nwriting this source code.", "start": 4510.6, "duration": 1.71}, {"text": "And the best way to fix it\nis probably just to change", "start": 4512.31, "duration": 2.23}, {"text": "the source code and make sure\nyou don't call getS() very", "start": 4514.54, "duration": 2.56}, {"text": "much, like the\ncompiler warned you.", "start": 4517.1, "duration": 1.47}, {"text": "And there's more subtle\nthings that the compiler", "start": 4518.57, "duration": 1.43}, {"text": "doesn't warn you about.", "start": 4520.0, "duration": 0.958}, {"text": "And you still have to\navoid making those calls.", "start": 4520.958, "duration": 2.532}, {"text": "But because it's\nhard, in practice,", "start": 4523.49, "duration": 3.08}, {"text": "to change all the\nsoftware out there,", "start": 4526.57, "duration": 1.9}, {"text": "many people try to\ndevise techniques", "start": 4528.47, "duration": 1.61}, {"text": "that make it more difficult\nto exploit these bugs.", "start": 4530.08, "duration": 3.02}, {"text": "For example, making the\nstack non-executable,", "start": 4533.1, "duration": 2.49}, {"text": "so you can't inject the\nshell code onto the stack,", "start": 4535.59, "duration": 3.545}, {"text": "and you have to do something\nslightly more elaborate.", "start": 4539.135, "duration": 2.795}, {"text": "And next couple of\nlectures, next two lectures,", "start": 4541.93, "duration": 3.76}, {"text": "actually, we'll look at\nthese defense techniques.", "start": 4545.69, "duration": 2.24}, {"text": "They're not all perfect.", "start": 4547.93, "duration": 1.05}, {"text": "But they do, in\npractice, make it", "start": 4548.98, "duration": 1.5}, {"text": "much more difficult for that\nhacker to exploit things.", "start": 4550.48, "duration": 2.3}, {"text": "Question?", "start": 4552.78, "duration": 0.285}, {"text": "AUDIENCE: I just have a general\nadministrative question.", "start": 4553.065, "duration": 1.737}, {"text": "PROFESSOR: Yeah?", "start": 4554.802, "duration": 0.484}, {"text": "AUDIENCE: I was wondering\nif there was a final?", "start": 4555.286, "duration": 1.452}, {"text": "And also if there are\nquizzes, and what dates--", "start": 4556.738, "duration": 1.958}, {"text": "PROFESSOR: Oh yeah.", "start": 4558.696, "duration": 1.504}, {"text": "Yeah, I think if you go\nto the schedule page,", "start": 4560.2, "duration": 2.43}, {"text": "there's two quizzes.", "start": 4562.63, "duration": 1.33}, {"text": "And there's no final\nduring the final week,", "start": 4563.96, "duration": 1.82}, {"text": "but there's a quiz\nright before it.", "start": 4565.78, "duration": 2.254}, {"text": "So you're free for\nthe final week,", "start": 4568.034, "duration": 1.416}, {"text": "but there's still something\nat the end of the class.", "start": 4569.45, "duration": 2.65}, {"text": "Yeah.", "start": 4572.1, "duration": 1.09}, {"text": "All right.", "start": 4573.19, "duration": 1.28}, {"text": "OK.", "start": 4574.47, "duration": 0.5}, {"text": "So I think that's probably\nit for buffer overflows.", "start": 4574.97, "duration": 2.34}, {"text": "I guess the one\nquestion is, so what", "start": 4577.31, "duration": 2.29}, {"text": "do you do about\nmechanism problems?", "start": 4579.6, "duration": 1.78}, {"text": "And the general answer is to\nprobably have fewer mechanisms.", "start": 4581.38, "duration": 4.65}, {"text": "So as we saw here,\nif you're relying", "start": 4586.03, "duration": 1.5}, {"text": "on every piece of software to\nenforce your security policy,", "start": 4587.53, "duration": 2.32}, {"text": "you'll inevitably\nhave mistakes that", "start": 4589.85, "duration": 1.499}, {"text": "allow an adversary to bypass\nyour mechanism to exploit", "start": 4591.349, "duration": 2.761}, {"text": "some bug in the web server.", "start": 4594.11, "duration": 1.719}, {"text": "And a much better\ndesign, and one but", "start": 4595.829, "duration": 1.541}, {"text": "you will explore\nin lab two, is one", "start": 4597.37, "duration": 1.93}, {"text": "where you structure\nyour whole system", "start": 4599.3, "duration": 1.73}, {"text": "so the security of\nthe system doesn't", "start": 4601.03, "duration": 1.591}, {"text": "depend on all the\npieces of software", "start": 4602.621, "duration": 1.499}, {"text": "enforcing your security policy.", "start": 4604.12, "duration": 1.67}, {"text": "The security policy\nis going to be", "start": 4605.79, "duration": 1.416}, {"text": "enforced by a small\nnumber of components.", "start": 4607.206, "duration": 1.764}, {"text": "And the rest of\nthe stuff actually", "start": 4608.97, "duration": 0.93}, {"text": "doesn't matter, for\nsecurity purposes,", "start": 4609.9, "duration": 1.583}, {"text": "if it's right or wrong.", "start": 4611.483, "duration": 1.257}, {"text": "It's not going to violate\nyour security policy at all.", "start": 4612.74, "duration": 2.32}, {"text": "So this, kind of minimizing\nyour trusted computing base", "start": 4615.06, "duration": 3.48}, {"text": "is a pretty powerful technique\nto get around these mechanism", "start": 4618.54, "duration": 3.28}, {"text": "bugs and problems that we've\nlooked at today, at least", "start": 4621.82, "duration": 2.59}, {"text": "in a little bit of detail.", "start": 4624.41, "duration": 1.365}, {"text": "All right.", "start": 4625.775, "duration": 0.595}, {"text": "So read the paper for Monday.", "start": 4626.37, "duration": 1.25}, {"text": "And come to Monday's lecture.", "start": 4627.62, "duration": 1.208}, {"text": "And submit the questions\non the website.", "start": 4628.828, "duration": 1.942}, {"text": "See you guys then.", "start": 4630.77, "duration": 2.15}]